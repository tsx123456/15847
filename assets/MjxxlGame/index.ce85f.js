System.register("chunks:///_virtual/MjxxlGame",["./MjxxlScene.ts","./MjxxlGameView.ts","./ui_ScrollView.ts","./ui_help.ts","./ui_helpTip.ts","./ui_history.ts","./ui_historyItem.ts","./ui_rank.ts","./ui_rankItem.ts","./ui_rate.ts","./ui_setBase.ts","./ui_symbol.ts","./ui_symbolEffectRoot.ts","./ui_symbolInfo.ts","./ui_symbolItem.ts","./ui_winTip.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MjxxlGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDef.ts","./ConfigManager.ts","./DataManager.ts","./EventManager.ts","./NetManager.ts","./MjxxlDef.ts","./MjxxlCtrl.ts","./ViewManager.ts","./MjxxlUtils.ts","./ui_symbol.ts","./ui_winTip.ts","./ui_rate.ts","./Common.ts","./AudioManager.ts","./MjxxlModel.ts"],(function(e){var t,n,i,a,o,s,r,c,u,l,d,f,h,_,p,m,b,B,g,N,y,v,w,C,S,L,T,k,x,R,F,M,E,W,I,G,O,z,P,A,H;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,u=e._decorator,l=e.Node,d=e.Button,f=e.sp,h=e.Label,_=e.view,p=e.tween,m=e.v3,b=e.find,B=e.instantiate,g=e.UIOpacity,N=e.Tween,y=e.UITransform},function(e){v=e.GameDef},function(e){w=e.default},function(e){C=e.default,S=e.UserKey},function(e){L=e.default},function(e){T=e.default},function(e){k=e.eEvent,x=e.eRunStatus,R=e.eSound,F=e.Constant,M=e.eProto},function(e){E=e.MjxxlCtrl},function(e){W=e.default},function(e){I=e.MjxxlUtils},function(e){G=e.default},function(e){O=e.default},function(e){z=e.default},function(e){P=e.Common},function(e){A=e.default},function(e){H=e.MjxxlModel}],execute:function(){var D,U,V,j,q,Q,K,Y,J,X,Z,$,ee,te,ne,ie,ae,oe,se,re,ce,ue,le,de,fe,he,_e,pe,me,be,Be,ge,Ne,ye,ve,we,Ce,Se,Le,Te,ke,xe;c._RF.push({},"08a3ai5NyNFc6cnbidBxPH3","MjxxlGameView",void 0);var Re=u.ccclass,Fe=u.property,Me=u.menu;u.inspector,e("default",(D=Re("MjxxlGameView"),U=Me("game/MjxxlGame/MjxxlGameView"),V=Fe(l),j=Fe(l),q=Fe(l),Q=Fe(l),K=Fe(l),Y=Fe(G),J=Fe(l),X=Fe(l),Z=Fe(d),$=Fe(d),ee=Fe(f.Skeleton),te=Fe(l),ne=Fe(h),ie=Fe(h),ae=Fe(h),oe=Fe(l),se=Fe(z),re=Fe(l),ce=Fe(l),D(ue=U((le=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"mask",de,a(t)),i(t,"Node_colEffect",fe,a(t)),i(t,"Node_effectRoot",he,a(t)),i(t,"Node_helpTip",_e,a(t)),i(t,"Node_winTip",pe,a(t)),i(t,"ui_symbol",me,a(t)),i(t,"Node_action",be,a(t)),i(t,"Node_menu",Be,a(t)),i(t,"Button_run",ge,a(t)),i(t,"Button_menu",Ne,a(t)),i(t,"Skeleton_run",ye,a(t)),i(t,"Node_tip",ve,a(t)),i(t,"Label_gold",we,a(t)),i(t,"Label_bet",Ce,a(t)),i(t,"Label_win",Se,a(t)),i(t,"Node_free",Le,a(t)),i(t,"ui_rate",Te,a(t)),i(t,"Node_freeFire",ke,a(t)),i(t,"Sprite_tipBg_free",xe,a(t)),t.arrBtnStatus=[],t}t(n,e);var c=n.prototype;return c.onLoad=function(){if(this.onClickHTMLStartBtn=this.onClickHTMLStartBtn.bind(this),window.addEventListener("customEventFromHTML",this.onClickHTMLStartBtn),e.prototype.onLoad.call(this,E.instance),this.initUIView(),T.instance.sendOnlineData(w.instance.protocolHall.getWallet,{}),!I.instance.isChangeOrientation()){var t=_.getFrameSize();t.width/t.height>750/1334&&(this.Node_action.setPosition(this.Node_action.position.x,this.Node_action.position.y+15),this.Node_menu.setPosition(this.Node_menu.position.x,this.Node_menu.position.y+15),this.Button_menu.node.setPosition(this.Button_menu.node.position.x,this.Button_menu.node.position.y+15),this.Button_run.node.setPosition(this.Button_run.node.position.x,this.Button_run.node.position.y+15))}},c.onClickHTMLStartBtn=function(){window.removeEventListener("customEventFromHTML",this.onClickHTMLStartBtn),I.instance.playBgMusic(),H.instance.totalFreeTimes>0&&this.showFree(!0,!0)},c.onEnable=function(){e.prototype.onEnable.call(this),L.instance.on(w.instance.eventTransform.disConnect,this.disconnect,this),L.instance.on(k.onRunStop,this.doRunEnd,this),L.instance.on(k.updateBaseBet,this.updateBaseBet,this)},c.onDisable=function(){e.prototype.onDisable.call(this),L.instance.off(w.instance.eventTransform.disConnect,this.disconnect,this),L.instance.off(k.onRunStop,this.doRunEnd,this),L.instance.off(k.updateBaseBet,this.updateBaseBet,this),H.instance.clearGameData()},c.onDestroy=function(){e.prototype.onDestroy.call(this)},c.start=function(){},c.disconnect=function(){P.showNetTips()},c.gameHide=function(){T.instance.removeWaitServicePush()},c.onReconnectSuccess=function(){E.instance.isReqBet&&E.instance.reqBet()},c.updateBaseBet=function(){var e=this;H.instance.curBet=H.instance.baseBetList[H.instance._curIndex_baseBet],p(this.Label_bet.node).to(.1,{scale:m(1.2,1.2,1)}).call((function(){e.Label_bet.string=I.instance.moneyFormat(H.instance.curBet)})).to(.1,{scale:m(1,1,1)}).start()},c.initUIView=function(){this.updateBetAmountOption(),this.ui_symbol.initSymbol(),this.initView();var e=b("Node_down/Node_action/Button_auto",this.node);I.instance.setBtnBetGray(e.getChildByName("Background"),!0);var t=b("Node_down/Node_action/Button_fast",this.node);I.instance.setBtnBetGray(t.getChildByName("Background"),!0),this.Label_bet.string=I.instance.moneyFormat(H.instance.curBet),this.Label_win.string=I.instance.moneyFormat(0),this.updateGold()},c.onBtnClick=function(e){var t=this;switch(e.target.name){case"Button_menu":this.Node_action.active=!this.Node_action.active,this.Node_menu.active=!this.Node_menu.active;break;case"Button_return":E.instance.reqExit(),P.exitGame();break;case"Button_history":P.loadPopBuddle("prefab/Node_history",I.instance.bundle,(function(){}),(function(e){var t=B(e);W.instance.popNodeView(t,!0)}),!0);break;case"Button_rank":P.loadPopBuddle("prefab/Node_rank",I.instance.bundle,(function(){}),(function(e){var t=B(e);W.instance.popNodeView(t,!0)}),!0);break;case"Button_help":P.loadPopBuddle("prefab/Node_help",I.instance.bundle,(function(){}),(function(e){var t=B(e);W.instance.popNodeView(t,!0)}),!0);break;case"Button_auto":H.instance.isAuto=!H.instance.isAuto,this.Button_run.interactable=!H.instance.isAuto,I.instance.setBtnBetGray(e.target.getChildByName("Background"),!H.instance.isAuto),H.instance.gameStatus!=x.RUNNING&&H.instance.isAuto&&E.instance.reqBet();break;case"Button_fast":H.instance.isQuickStop=!H.instance.isQuickStop,I.instance.setBtnBetGray(e.target.getChildByName("Background"),!H.instance.isQuickStop);break;case"Button_redus":H.instance._curIndex_baseBet--,H.instance._curIndex_baseBet<=0?(H.instance._curIndex_baseBet=0,this.Node_action.getChildByName("Button_redus").getComponent(d).interactable=!1):this.Node_action.getChildByName("Button_add").getComponent(d).interactable=!0,H.instance.curBet=H.instance.baseBetList[H.instance._curIndex_baseBet],p(this.Label_bet.node).to(.1,{scale:m(1.2,1.2,1)}).call((function(){t.Label_bet.string=I.instance.moneyFormat(H.instance.curBet)})).to(.1,{scale:m(1,1,1)}).start();break;case"Button_add":H.instance._curIndex_baseBet++,H.instance._curIndex_baseBet>=H.instance.baseBetList.length?(H.instance._curIndex_baseBet=H.instance.baseBetList.length-1,this.Node_action.getChildByName("Button_add").getComponent(d).interactable=!1):this.Node_action.getChildByName("Button_redus").getComponent(d).interactable=!0,H.instance.curBet=H.instance.baseBetList[H.instance._curIndex_baseBet],p(this.Label_bet.node).to(.1,{scale:m(1.2,1.2,1)}).call((function(){t.Label_bet.string=I.instance.moneyFormat(H.instance.curBet)})).to(.1,{scale:m(1,1,1)}).start();break;case"Button_run":if(H.instance.isAuto)break;H.instance.gameStatus==x.NONE?(e.target.getComponent(d).interactable=!1,I.instance.setBtnBetGray(e.target.getChildByName("Background"),!0),p(e.target).delay(5).call((function(){e.target.getComponent(d).interactable=!0,I.instance.setBtnBetGray(e.target.getChildByName("Background"),!1)})).start(),E.instance.reqBet()):H.instance.gameStatus==x.RUNNING&&this.ui_symbol.doStartRun();break;case"Button_setBase":P.loadPopBuddle("prefab/Node_setBase",I.instance.bundle,(function(){}),(function(e){var t=B(e);W.instance.popNodeView(t,!0)}),!0);break;case"Button_enter":this.doEnterFree();break;case"Button_exit":this.showFree(!1)}},c.doStartRun=function(){if(this.Node_helpTip.active=!0,this.Node_winTip.active=!1,H.instance.curTotalWin=0,this.Label_win.string=I.instance.moneyFormat(0),L.instance.emit(k.updateWin,0),this.Node_effectRoot.removeAllChildren(),this.ui_symbol.doStartRun(),H.instance.gameStatus!=x.RUNNING){H.instance.gameStatus=x.RUNNING,"start"!=this.Skeleton_run.animation&&this.Skeleton_run.setAnimation(0,"start",!0),this.arrBtnStatus=[];var e=this.Node_action.getChildByName("Button_redus").getComponent(d);this.arrBtnStatus.push({btn:e,enable:e.interactable}),e.interactable=!1,e=this.Node_action.getChildByName("Button_add").getComponent(d),this.arrBtnStatus.push({btn:e,enable:e.interactable}),e.interactable=!1}H.instance.freeStatus==x.RUNNING?this.Node_free.getChildByName("Node_freeInfo").getChildByName("Label_freeTimes").getComponent(h).string=""+H.instance.totalFreeTimes:I.instance.playOneShot(R.startRun)},c.doRunEnd=function(){var e=o(s().mark((function e(){var t,n,i,a,o,c,u=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:H.instance.gameStatus=x.CLEAR,this.Button_run.interactable=!1,this.Node_colEffect.active&&p(this.Node_colEffect.getComponent(g)).to(.2,{opacity:0}).call((function(){u.Node_colEffect.active=!1})).start(),H.instance.curTotalWin=0,t=H.instance.betResult.Res,n=s().mark((function e(){var n,a,o,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((n=t[i]).RewardMoney>0)){e.next=15;break}return a=t[i+1],u.Node_helpTip.active=!1,u.Node_winTip.active=!0,u.Node_winTip.getComponent(O).doShow(n.RewardMoney),o=H.instance.curTotalWin+n.RewardMoney,r=n.RewardMoney/10,p(u.Label_win.node).repeat(11,p(u.Label_win.node).delay(.05).call((function(){H.instance.curTotalWin+=r,H.instance.curTotalWin>o&&(H.instance.curTotalWin=o),u.Label_win.string=I.instance.moneyFormat(H.instance.curTotalWin)}))).start(),L.instance.emit(k.updateWin,n.RewardMoney),I.instance.playOneShot(R.clear_0),e.next=14,u.ui_symbol.doEnd(n.RewardPos,a.AllPosMsg,i+1);case 14:2==i?I.instance.playOneShot(R.nice_0):i>2&&I.instance.playOneShot(R.nice_1);case 15:case"end":return e.stop()}}),e)})),i=0;case 7:if(!(i<t.length)){e.next=12;break}return e.delegateYield(n(),"t0",9);case 9:i++,e.next=7;break;case 12:this.mask.active&&p(this.mask.getComponent(g)).to(.2,{opacity:0}).call((function(){u.mask.active=!1,u.mask.getComponent(y).width=0})).start(),a=.25,H.instance.curTotalWin>0&&(this.Node_winTip.getComponent(O).doShow(H.instance.curTotalWin,!0),a=.5,H.instance.endBalance>0&&(H.instance.curBalance=H.instance.endBalance,H.instance.endBalance=0,this.updateGold())),H.instance.isAuto||this.Skeleton_run.setAnimation(0,"idle",!0),this.Button_run.interactable=!0,I.instance.setBtnBetGray(this.Button_run.node.getChildByName("Background"),!1),H.instance.gameStatus=x.NONE,this.scheduleOnce((function(){if(u.arrBtnStatus.length>0)for(var e,t=r(u.arrBtnStatus);!(e=t()).done;){var n=e.value;n.btn.interactable=n.enable}})),H.instance.freeStatus!=x.NONE?(H.instance.totalFreeWin+=H.instance.curTotalWin,o=function(){u.scheduleOnce((function(){u.Node_free.getChildByName("Node_bigWin").active=!1,H.instance.totalFreeTimes>0?E.instance.reqBet():(H.instance.freeStatus=x.END,u.doEndFree())}),a)},t.length>3?((c=this.Node_free.getChildByName("Node_bigWin")).active=!0,c.scale=m(.5,.5,1),p(c).to(.1,{scale:m(1.2,1.2,1)},{easing:"quadOut"}).to(.05,{scale:m(1,1,1)},{easing:"quadIn"}).call((function(){var e=c.getChildByName("Label_totalWin").getComponent(h),t=H.instance.curTotalWin,n=H.instance.curTotalWin/10,i=0;p(e.node).repeat(11,p(e.node).delay(.05).call((function(){(i+=n)>t&&(i=t,a=1,o()),e.string=I.instance.numberFormat(i/F.moneyRatio,2)}))).start()})).start()):o()):H.instance.totalFreeTimes>0?this.showFree(!0):H.instance.isAuto&&this.scheduleOnce((function(){E.instance.reqBet()}),a);case 21:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.showFree=function(e,t){var n=this;if(void 0===e&&(e=!0),void 0===t&&(t=!1),!e)return this.Sprite_tipBg_free.active=!1,A.instance.resumeMusic(),I.instance.stopSound(R.freeEnd_1),p(this.Node_free.getComponent(g)).to(.2,{opacity:0}).call((function(){n.Node_free.active=!1,n.Node_free.getChildByName("Node_enter").active=!1,n.Node_free.getChildByName("Node_end").active=!1,n.Node_free.getChildByName("Node_freeInfo").active=!1,n.Node_free.getChildByName("Node_freePartical").active=!1,n.Node_free.getChildByName("Node_bigWin").active=!1,n.Node_freeFire.active=!1,H.instance.isAuto&&n.scheduleOnce((function(){E.instance.reqBet()}),.25)})).start(),void(H.instance.freeStatus=x.NONE);this.Node_free.active||this.scheduleOnce((function(){if(A.instance.pauseMusic(),n.Node_action.active=!1,n.Node_menu.active=!1,n.Button_menu.node.active=!1,n.Button_run.node.active=!1,n.Sprite_tipBg_free.active=!0,n.Node_free.active=!0,n.Node_free.getChildByName("Node_enter").active=!t,t)n.Node_free.getComponent(g).opacity=255,n.doEnterFree(t);else{I.instance.playSound(R.startFree),n.Node_free.getComponent(g).opacity=0;var e=n.Node_free.getChildByName("Node_enter");e.getComponent(g).opacity=255,e.getChildByName("Label_freeTimes").getComponent(h).string=""+H.instance.totalFreeTimes,H.instance.totalFreeWin=0,p(n.Node_free.getComponent(g)).to(.5,{opacity:255}).call((function(){n.scheduleOnce((function(){n.doEnterFree()}),3)})).start()}}),.5)},c.doEnterFree=function(e){var t=this;if(void 0===e&&(e=!1),!e){var n=this.Node_free.getChildByName("Node_enter");p(n.getComponent(g)).to(.2,{opacity:0}).call((function(){n.active=!1,I.instance.stopSound(R.startFree)})).start()}this.Node_freeFire.active=!0;var i=this.Node_free.getChildByName("Node_freeInfo");i.active=!0,i.getChildByName("Label_freeTimes").getComponent(h).string=""+H.instance.totalFreeTimes,this.Node_free.getChildByName("Node_freePartical").active=!0,A.instance.resumeMusic(),H.instance.freeStatus==x.NONE&&(H.instance.freeStatus=x.RUNNING,this.scheduleOnce((function(){t.ui_rate.changeRate()}),.3),this.scheduleOnce((function(){E.instance.reqBet()}),2))},c.doEndFree=function(){var e=this,t=this.Node_free.getChildByName("Node_end");t.active=!0,t.getComponent(g).opacity=0,p(t.getComponent(g)).to(.2,{opacity:255}).start(),A.instance.pauseMusic(),I.instance.playSound(R.freeEnd_1,!1);var n=t.getChildByName("Label_totalWin"),i=H.instance.totalFreeWin,a=H.instance.totalFreeWin/10,o=0;p(n).repeat(11,p(n).delay(.05).call((function(){(o+=a)>i&&(o=i),n.getComponent(h).string=I.instance.numberFormat(o/F.moneyRatio,2)}))).start(),this.Node_action.active=!0,this.Node_menu.active=!1,this.Button_menu.node.active=!0,this.Button_run.node.active=!0,this.scheduleOnce((function(){e.ui_rate.changeRate(!1),e.showFree(!1)}),4.75)},c.updateGold=function(){var e=this,t=I.instance.moneyFormat(H.instance.curBalance);t!=this.Label_gold.string&&p(this.Label_gold.node).to(.1,{scale:m(1.2,1.2,1)}).call((function(){e.Label_gold.string=t})).to(.1,{scale:m(1,1,1)}).start()},c.initView=function(){this.Label_bet.string=I.instance.moneyFormat(H.instance.curBet),H.instance.curTotalWin=0;for(var e=H.instance.gameInfo.Res,t=null,n=0,i=0;i<e.length;i++)(t=e[i]).RewardMoney>0&&(n++,H.instance.curTotalWin+=t.RewardMoney);H.instance.curTotalWin>0&&(this.ui_rate.doLight(n),this.Node_helpTip.active=!1,this.Node_winTip.active=!0,this.Node_winTip.getComponent(O).doShow(H.instance.curTotalWin,!0),this.Label_win.string=I.instance.moneyFormat(H.instance.curTotalWin),L.instance.emit(k.updateWin,H.instance.curTotalWin));this.ui_symbol.initSymbolIcon(t.AllPosMsg)},c.updateBetAmountOption=function(){var e=C.instance.getUserDataForKey(S.CURRENCY_MULTIPLIER);H.instance.baseScoreList=[200,1e3,5e3].map((function(t){return t*e})),H.instance.baseRateList=[1,2,3,4,5,6,7,8,9,10],H.instance.basePayList=[20],H.instance.baseBetList=[],H.instance.baseBetInfoList=[];for(var t=new Set,n=0;n<H.instance.baseScoreList.length;n++)for(var i=0;i<H.instance.baseRateList.length;i++)for(var a=0;a<H.instance.basePayList.length;a++){var o=H.instance.baseScoreList[n]*H.instance.baseRateList[i]*H.instance.basePayList[a];t.has(o)||(t.add(o),H.instance.baseBetList.push(o),H.instance.baseBetInfoList.push({baseScoreIndex:n,baseRateIndex:i}))}H.instance.baseBetList.sort((function(e,t){return e-t}))},c.updateView=function(e,t){switch(e){case M.HD_History:break;case M.HD_Bet:this.Button_run.interactable=!0,N.stopAllByTarget(this.Button_run.node),I.instance.setBtnBetGray(this.Button_run.node.getChildByName("Background"),!1),this.doStartRun(),this.updateGold();break;case w.instance.protocolHall.getWallet:case w.instance.protocolHall.pushWallet:this.updateGold();break;case w.instance.protocolHall.login:P.closeNetTips(),P.closeWait(),this.onReconnectSuccess()}},n}(v.BaseView),de=n(le.prototype,"mask",[V],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),fe=n(le.prototype,"Node_colEffect",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),he=n(le.prototype,"Node_effectRoot",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_e=n(le.prototype,"Node_helpTip",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),pe=n(le.prototype,"Node_winTip",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),me=n(le.prototype,"ui_symbol",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),be=n(le.prototype,"Node_action",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=n(le.prototype,"Node_menu",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ge=n(le.prototype,"Button_run",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ne=n(le.prototype,"Button_menu",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=n(le.prototype,"Skeleton_run",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=n(le.prototype,"Node_tip",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),we=n(le.prototype,"Label_gold",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=n(le.prototype,"Label_bet",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Se=n(le.prototype,"Label_win",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=n(le.prototype,"Node_free",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=n(le.prototype,"ui_rate",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=n(le.prototype,"Node_freeFire",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=n(le.prototype,"Sprite_tipBg_free",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ue=le))||ue)||ue));c._RF.pop()}}}));

System.register("chunks:///_virtual/MjxxlScene.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AudioManager.ts","./ConfigManager.ts","./EventManager.ts","./NetManager.ts","./ViewManager.ts","./MjxxlDef.ts","./MjxxlUtils.ts"],(function(e){var n,t,a,o,i,s,c,r,l,u,f,d,p,m,h,g,b,x,M;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,a=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){i=e.cclegacy,s=e._decorator,c=e.Node,r=e.Prefab,l=e.assetManager,u=e.instantiate,f=e.Component},function(e){d=e.default},function(e){p=e.default},function(e){m=e.default},function(e){h=e.default},function(e){g=e.default},function(e){b=e.cBundle,x=e.eEvent},function(e){M=e.MjxxlUtils}],execute:function(){var _,G,v,L,w,y,j,P;i._RF.push({},"616den/e+BMEpXA3YMeAQqP","MjxxlScene",void 0);var B=s.ccclass,E=s.property,S=s.menu;e("default",(_=B("MjxxlScene"),G=S("game/MjxxlGame/MjxxlScene"),v=E(c),L=E(r),_(w=G((j=n((y=function(e){function n(){for(var n,t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return(n=e.call.apply(e,[this].concat(i))||this).isUpdateView=!1,a(n,"firstNode",j,o(n)),a(n,"prefab_game",P,o(n)),n._node_Game=null,n}t(n,e);var i=n.prototype;return i.onLoad=function(){h.instance.waitServiceSendData(),M.instance.bundle=l.getBundle(b),M.instance.preLoad(),this.onLoadGame()},i.onEnable=function(){m.instance.on(p.instance.ButtonEvent.closePop,this.closePop,this),m.instance.on(x.onLoadGame,this.onLoadGame,this)},i.onDisable=function(){m.instance.off(p.instance.ButtonEvent.closePop,this.closePop,this),m.instance.off(x.onLoadGame,this.onLoadGame,this),d.instance.playBgMusic()},i.onLoadGame=function(){var e=this;console.time("bundle.onLoadGame"),this.prefab_game?this.showGame():M.instance.bundle.load("prefab/MjxxlGameView",r,(function(e,n){}),(function(n,t){e.prefab_game=t,e.showGame()}))},i.showGame=function(){this.prefab_game&&(this._node_Game||(this._node_Game=u(this.prefab_game),this.node.addChild(this._node_Game),m.getInstance().dispatch(p.getInstance().eventTransform.gameLoaded)),console.timeEnd("bundle.onLoadGame"))},i.closePop=function(e){g.instance.closePopView()},n}(f)).prototype,"firstNode",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=n(y.prototype,"prefab_game",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=y))||w)||w));i._RF.pop()}}}));

System.register("chunks:///_virtual/ui_help.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./MjxxlUtils.ts"],(function(t){var e,n,i,r,a,o,l,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Label,s=t.Component},function(t){u=t.default},function(t){c=t.MjxxlUtils}],execute:function(){var p,f,y,h,b;a._RF.push({},"3d0f0JT4s1DMqEj7t/EHU3F","ui_help",void 0);var _=o.ccclass,d=o.property;t("ui_help",(p=_("ui_help"),f=d(l),p((b=e((h=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"waysLab",b,r(e)),e}return n(e,t),e.prototype.start=function(){var t=c.instance.numberFormat(1024,0);this.waysLab.string=u.t("MahjongPayout.BetWaysTitle",{1024:t})},e}(s)).prototype,"waysLab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=h))||y));a._RF.pop()}}}));

System.register("chunks:///_virtual/ui_helpTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizedImage.ts"],(function(t){var i,e,o,n,p,r,s,a,h,l,d,c;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){p=t.cclegacy,r=t._decorator,s=t.Tween,a=t.UITransform,h=t.tween,l=t.v3,d=t.Component},function(t){c=t.LocalizedImage}],execute:function(){var u,_,S,f,m,y;p._RF.push({},"80d58Sox1hACr5K4/49jwjn","ui_helpTip",void 0);var g=r.ccclass,w=r.property,v=r.menu;t("default",(u=g("UiHelpTip"),_=v("game/MjxxlGame/ui_helpTip"),S=w(c),u(f=_((y=i((m=function(t){function i(){for(var i,e=arguments.length,p=new Array(e),r=0;r<e;r++)p[r]=arguments[r];return i=t.call.apply(t,[this].concat(p))||this,o(i,"Sprite_tip",y,n(i)),i.curIndex=0,i}e(i,t);var p=i.prototype;return p.start=function(){},p.onEnable=function(){this.doShow()},p.onDisable=function(){this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),s.stopAllByTarget(this.Sprite_tip.node)},p.doShow=function(){var t=this;if(this.curIndex=1+Math.floor(4*Math.random()),this.Sprite_tip.getComponent(c).key="help"+this.curIndex,this.Sprite_tip.node.getComponent(a).width>this.node.parent.getComponent(a).width){var i=(this.Sprite_tip.node.getComponent(a).width-this.node.parent.getComponent(a).width)/2+20;this.Sprite_tip.node.setPosition(i,this.Sprite_tip.node.position.y);var e=i-this.Sprite_tip.node.getComponent(a).width-40;h(this.Sprite_tip.node).delay(1).to(this.Sprite_tip.node.getComponent(a).width/100,{position:l(e,this.Sprite_tip.node.position.y)}).call((function(){t.doShow()})).start()}else this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),h(this.Sprite_tip.node).delay(2).call((function(){t.doShow()})).start()},i}(d)).prototype,"Sprite_tip",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=m))||f)||f));p._RF.pop()}}}));

System.register("chunks:///_virtual/ui_history.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./MjxxlDef.ts","./GameDef.ts","./Common.ts","./MjxxlCtrl.ts"],(function(t){var e,i,n,r,a,o,s,c,u,l,_,g,h;return{setters:[function(t){e=t.inheritsLoose,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,c=t.Node},function(t){u=t.default},function(t){l=t.eProto},function(t){_=t.GameDef},function(t){g=t.Common},function(t){h=t.MjxxlCtrl}],execute:function(){var f,p,P,y,b,d,x,m,v,w,B,L;a._RF.push({},"a3d79USaNVEEZwu0JcHsoL3","ui_history",void 0);var z=o.ccclass,D=o.property,H=o.menu;o.inspector,t("default",(f=z("UiHistory"),p=H("game/MjxxlGame/ui_history"),P=D(gts.List),y=D(s),b=D(c),d=D(c),f(x=p((m=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"scrollView_content",v,r(e)),n(e,"Label_curPage",w,r(e)),n(e,"Button_last",B,r(e)),n(e,"Button_next",L,r(e)),e._curPage=0,e._totalPage=0,e._lastPage=1,e._pageSize=13,e}e(i,t);var a=i.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this,h.instance),this.Label_curPage.string="",h.instance.reqHistory(),g.showWait(),this.scheduleOnce(g.closeWait,3)},a.onBefore=function(){this._lastPage=this._curPage,this._curPage--,this._curPage<0&&(this._curPage=0);var t=this._curPage*this._pageSize;h.instance.reqHistory(t)},a.onNext=function(){this._lastPage=this._curPage,this._curPage++;var t=this._curPage*this._pageSize;h.instance.reqHistory(t)},a.updateView=function(t,e){switch(t){case l.HD_History:if(g.closeWait(),!e||!e.BetRecord||0==e.BetRecord.length)return this._curPage=this._lastPage,void(this.Button_next.active=!1);this.Button_last.active=this._curPage>0,this.Button_next.active=e.NextPage,this.Label_curPage.string=u.t("page")+":"+(this._curPage+1),this.scrollView_content.setData(e.BetRecord)}},i}(_.BaseView),v=i(m.prototype,"scrollView_content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(m.prototype,"Label_curPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=i(m.prototype,"Button_last",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(m.prototype,"Button_next",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=m))||x)||x));a._RF.pop()}}}));

System.register("chunks:///_virtual/ui_historyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoChangeParent.ts","./Common.ts","./MjxxlUtils.ts"],(function(e){var t,i,n,a,o,l,r,u,c,s,b,m,p,_,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,r=e._decorator,u=e.Node,c=e.Label,s=e.UIOpacity,b=e.color,m=e.Component},function(e){p=e.default},function(e){_=e.Common},function(e){f=e.MjxxlUtils}],execute:function(){var g,h,d,y,L,v,I,N,w,z,U,C,x,D,F,j,M,S,A,O,R,B;l._RF.push({},"f0aa9sMuNNDjp4nznthSQXv","ui_historyItem",void 0);var G=r.ccclass,H=r.property,P=r.menu;r.inspector,e("default",(g=G("UiHistoryItem"),h=P("game/MjxxlGame/ui_historyItem"),d=H(u),y=H(u),L=H(u),v=H(c),I=H(c),N=H(c),w=H(c),z=H(c),U=H(c),g(C=h((D=t((x=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"content_label",D,a(t)),n(t,"Node_label",F,a(t)),n(t,"Sprite_bg",j,a(t)),n(t,"Label_gameNo",M,a(t)),n(t,"Label_date",S,a(t)),n(t,"Label_time",A,a(t)),n(t,"Label_win",O,a(t)),n(t,"Label_bet",R,a(t)),n(t,"Label_gold",B,a(t)),t._gtItem=null,t}i(t,e);var l=t.prototype;return l.onLoad=function(){},l.onEnable=function(){this.node.active=!0,this.Node_label.active=!0},l.onDisable=function(){},l.start=function(){var e=this;p.Bind(this.Node_label,this.content_label,!0).OnUpdateNotify((function(t){e.Node_label.getComponent(s).opacity=e.node.getComponent(s).opacity,e.Node_label.active=e.node.active,e.Node_label.scale=e.node.scale}),this),this.item&&(this.item.OnDataChangedNotify((function(){e.UpdateUI()}),this),this.item.OnHideNotify((function(){e.node.active=!1,e.Node_label.active=!1}),this),this.UpdateUI())},l.UpdateUI=function(){var e=this.item.data;this.Sprite_bg.active=this.item.itemIndex%2!=0,this.Label_gameNo.string=_.setGameNo(e.GameNo);var t=_.getRecordResult(e);this.Label_gold.string=t;var i=_.getTimeFormat(e.CreateAt);this.Label_time.string=i.time,this.Label_date.string=i.date,this.Label_bet.string=f.instance.moneyFormat(e.BetAmount);var n="";e.Income>0?(n="+"+f.instance.moneyFormat(e.Income),this.Label_win.color=b(255,0,0,255)):e.Income<=0&&(n=""+f.instance.moneyFormat(e.Income),this.Label_win.color=b(104,245,1,255)),this.Label_win.string=n},o(t,[{key:"item",get:function(){return this._gtItem||(this._gtItem=this.getComponent(gts.ListItem)),this._gtItem}}]),t}(m)).prototype,"content_label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(x.prototype,"Node_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(x.prototype,"Sprite_bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(x.prototype,"Label_gameNo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(x.prototype,"Label_date",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(x.prototype,"Label_time",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(x.prototype,"Label_win",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(x.prototype,"Label_bet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),B=t(x.prototype,"Label_gold",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=x))||C)||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/ui_rank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./GameDef.ts","./Common.ts","./MjxxlCtrl.ts"],(function(e){var t,n,i,a,r,o,c,l,s,u,p;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,c=e.Label},function(e){l=e.eProto},function(e){s=e.GameDef},function(e){u=e.Common},function(e){p=e.MjxxlCtrl}],execute:function(){var f,_,h,g,m,b,y,x;r._RF.push({},"1beb75lhxxMIK2kQs4mvyZu","ui_rank",void 0);var d=o.ccclass,k=o.property,w=o.menu;o.inspector,e("default",(f=d("UiRank"),_=w("game/MjxxlGame/ui_rank"),h=k(gts.List),g=k(c),f(m=_((b=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,i(t,"scrollView_content",y,a(t)),i(t,"Label_curPage",x,a(t)),t._curPage=0,t._totalPage=0,t._lastPage=1,t}t(n,e);var r=n.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this,p.instance),u.showWait(),this.scheduleOnce(u.closeWait,3),p.instance.reqRank()},r.updateView=function(e,t){switch(e){case l.HD_Rank:u.closeWait(),t.RankList&&this.scrollView_content.setData(t.RankList)}},n}(s.BaseView),y=n(b.prototype,"scrollView_content",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=n(b.prototype,"Label_curPage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=b))||m)||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/ui_rankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoChangeParent.ts","./MjxxlUtils.ts"],(function(e){var t,i,n,a,r,o,l,c,u,s,p,b,m,_,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){o=e.cclegacy,l=e._decorator,c=e.Node,u=e.Sprite,s=e.Label,p=e.SpriteFrame,b=e.UIOpacity,m=e.Component},function(e){_=e.default},function(e){f=e.MjxxlUtils}],execute:function(){var h,d,g,v,y,k,N,I,L,w,S,U,z,x,F,C,T,D,O,j;o._RF.push({},"0fb51B+hwVERLaIqQ7N5iOu","ui_rankItem",void 0);var M=l.ccclass,R=l.property,B=l.menu;l.inspector,e("default",(h=M("UiRankItem"),d=B("game/MjxxlGame/ui_rankItem"),g=R(c),v=R(c),y=R(c),k=R(u),N=R(s),I=R(s),L=R(s),w=R(p),h(S=d((z=t((U=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,n(t,"content_label",z,a(t)),n(t,"Node_label",x,a(t)),n(t,"Sprite_bg",F,a(t)),n(t,"Sprite_rankTag",C,a(t)),n(t,"Label_rank",T,a(t)),n(t,"Label_nickName",D,a(t)),n(t,"Label_win",O,a(t)),n(t,"spriteFrame_rank",j,a(t)),t._gtItem=null,t}i(t,e);var o=t.prototype;return o.onLoad=function(){},o.onEnable=function(){this.node.active=!0,this.Node_label.active=!0},o.onDisable=function(){},o.start=function(){var e=this;_.Bind(this.Node_label,this.content_label,!0).OnUpdateNotify((function(t){e.Node_label.getComponent(b).opacity=e.node.getComponent(b).opacity,e.Node_label.active=e.node.active,e.Node_label.scale=e.node.scale}),this),this.item&&(this.item.OnDataChangedNotify((function(){e.UpdateUI()}),this),this.item.OnHideNotify((function(){e.node.active=!1,e.Node_label.active=!1}),this),this.UpdateUI())},o.UpdateUI=function(){var e=this.item.data;if(!e||void 0===e)return this.node.active=!1,void(this.Node_label.active=!1);var t=this.item.itemIndex;t<3?(this.Sprite_rankTag.node.active=!0,this.Label_rank.node.active=!1,this.Sprite_rankTag.spriteFrame=this.spriteFrame_rank[t]):(this.Sprite_rankTag.node.active=!1,this.Label_rank.node.active=!0,this.Label_rank.string=""+(t+1)),this.Sprite_bg.active=this.item.itemIndex%2!=0,this.Label_nickName.string=""+e.NickName,this.Label_win.string=f.instance.moneyFormat(e.Score)},r(t,[{key:"item",get:function(){return this._gtItem||(this._gtItem=this.getComponent(gts.ListItem)),this._gtItem}}]),t}(m)).prototype,"content_label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"Node_label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"Sprite_bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(U.prototype,"Sprite_rankTag",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(U.prototype,"Label_rank",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"Label_nickName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"Label_win",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"spriteFrame_rank",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=U))||S)||S));o._RF.pop()}}}));

System.register("chunks:///_virtual/ui_rate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./MjxxlUtils.ts"],(function(e){var t,r,n,a,o,i,l,c,p,s,m,u,f,d,g,h,C,_,v;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createForOfIteratorHelperLoose},function(e){i=e.cclegacy,l=e._decorator,c=e.SpriteFrame,p=e.Prefab,s=e.Sprite,m=e.Component,u=e.tween,f=e.UIOpacity,d=e.instantiate,g=e.sp,h=e.v3,C=e.find},function(e){_=e.eSound},function(e){v=e.MjxxlUtils}],execute:function(){var y,S,F,N,b,x,I,B,L,X;i._RF.push({},"a0b36eC+5xKHq3u1T8MRjvK","ui_rate",void 0);var k=l.ccclass,j=l.property,M=l.menu;l.inspector,e("default",(y=k("UiRate"),S=M("game/MjxxlGame/ui_rate"),F=j(c),N=j(c),b=j(p),y(x=S((B=t((I=function(e){function t(){for(var t,r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))||this).arrIconSpriteFrame={},n(t,"rateNomal",B,a(t)),n(t,"rateFree",L,a(t)),n(t,"Node_rateEffect",X,a(t)),t}r(t,e);var i=t.prototype;return i.onLoad=function(){var e=this;v.instance.asyncLoadDir("textures/rateIcon",c,(function(t,r){if(!t)for(var n,a=o(r);!(n=a()).done;){var i=n.value;e.arrIconSpriteFrame[i.name]=i}}))},i.changeRate=function(e){var t=this;if(void 0===e&&(e=!0),e){for(var r=["redX2_","redX4_","redX6_","redX10_"],n=function(e){var n=t.node.getChildByName("Sprite_rate_"+e);u(n).delay(.4*e).parallel(u(n).call((function(){n.getComponent(f).opacity=0,n.getComponent(s).spriteFrame=t.arrIconSpriteFrame[r[e]+"2"];var a=n.getChildByName("Sprite_light");a.getComponent(s).spriteFrame=t.arrIconSpriteFrame[r[e]+"1"],a.active=!0;var o=d(t.Node_rateEffect);n.addChild(o),o.getComponent(g.Skeleton).setAnimation(0,"animation",!1),o.getComponent(g.Skeleton).setCompleteListener((function(){o.destroyFromParent()})),v.instance.playOneShot(_.rateChange)})),u(n).call((function(){u(n.getComponent(f)).to(.2,{opacity:255}).start()})).to(.2,{scale:h(1.2,1.2,1)}).to(.1,{scale:h(1,1,1)}).call((function(){n.getChildByName("Sprite_light").active=0==e}))).start()},a=0;a<4;a++)n(a);this.node.getChildByName("up_bg").getComponent(s).spriteFrame=this.rateFree}else{for(var o=["X1_","X2_","X3_","X5_"],i=0;i<4;i++){var l=this.node.getChildByName("Sprite_rate_"+i);l.getComponent(s).spriteFrame=this.arrIconSpriteFrame[o[i]+"2"];var c=l.getChildByName("Sprite_light");c.getComponent(s).spriteFrame=this.arrIconSpriteFrame[o[i]+"1"],c.active=0==i}this.node.getChildByName("up_bg").getComponent(s).spriteFrame=this.rateNomal}},i.doLight=function(e){for(var t=this,r=function(){var r=t.node.getChildByName("Sprite_rate_"+n),a=C("Sprite_light",r);if(a.active=n==e,a.active&&0!=n){var o=d(t.Node_rateEffect);a.addChild(o),o.getComponent(g.Skeleton).setAnimation(0,"animation",!1),o.getComponent(g.Skeleton).setCompleteListener((function(){o.destroyFromParent()})),u(r).parallel(u(r).call((function(){var e=d(t.Node_rateEffect);r.addChild(e),e.getComponent(g.Skeleton).setAnimation(0,"animation",!1),e.getComponent(g.Skeleton).setCompleteListener((function(){e.destroyFromParent()}))})),u(r).call((function(){u(r.getComponent(f)).to(.2,{opacity:255}).start()})).to(.2,{scale:h(1.2,1.2,1)}).to(.1,{scale:h(1,1,1)})).start()}},n=0;n<4;n++)r()},t}(m)).prototype,"rateNomal",[F],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(I.prototype,"rateFree",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),X=t(I.prototype,"Node_rateEffect",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=I))||x)||x));i._RF.pop()}}}));

System.register("chunks:///_virtual/ui_ScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./EventManager.ts","./MjxxlUtils.ts"],(function(e){var t,i,n,o,c,r,l,s,a,h,u,d,_,x,w,p,V,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){c=e.cclegacy,r=e._decorator,l=e.Node,s=e.ScrollView,a=e.instantiate,h=e.Label,u=e.Component,d=e.UITransform,_=e.v3,x=e.UIOpacity},function(e){w=e.eAutoRateType,p=e.eEvent},function(e){V=e.default},function(e){m=e.MjxxlUtils}],execute:function(){var S,f,I,g,y,v,b,T;c._RF.push({},"330e3llM4JJyI1QsVXOd1M9","ui_ScrollView",void 0);var M=r.ccclass,C=r.property,L=r.menu;r.inspector,e("default",(S=M("UiScrollView"),f=L("game/MjxxlGame/ui_ScrollView"),I=C({type:w}),g=C(l),S(y=f((b=t((v=function(e){function t(){for(var t,i=arguments.length,c=new Array(i),r=0;r<i;r++)c[r]=arguments[r];return t=e.call.apply(e,[this].concat(c))||this,n(t,"type",b,o(t)),n(t,"item",T,o(t)),t._ScrollViewView=null,t._curIndex=0,t._maxIndex=0,t.itemList=void 0,t._hTouch=null,t._isLongTouch=!1,t.isSetNew=!1,t}i(t,e);var c=t.prototype;return c.onDisable=function(){this._hTouch&&clearTimeout(this._hTouch)},c.init=function(e,t){var i=this;this._ScrollViewView=this.node.getComponent(s),this.itemList=e,this._maxIndex=e.length-1,this._curIndex=t;for(var n=0;n<e.length;n++){var o=this._ScrollViewView.content.children[n];o||(o=a(this.item),this._ScrollViewView.content.addChild(o)),o.active=!0,o.name="item_"+n,o.getComponent(h).string=this.getDefaultValue(n)}this._ScrollViewView.node.on("touch-up",(function(){i.onScrollTouchUp()}),this),this._ScrollViewView.node.on("touchcancel",(function(){i.onScrollTouchUp()}),this);var c=function(){for(var e=0;e<i._ScrollViewView.content.children.length;e++){var t=i._ScrollViewView.content.children[e],n=t.getComponent(d).convertToWorldSpaceAR(_(0,0));n=i._ScrollViewView.node.getComponent(d).convertToNodeSpaceAR(n);var o=i._ScrollViewView.node.getComponent(d).height/2;Math.abs(n.y)<o?(t.getComponent(x).opacity=255*(1-Math.abs(n.y)/o),Math.abs(n.y)<t.getComponent(d).height?t.scale=_(1+.5*(1-Math.abs(n.y)/t.getComponent(d).height),1+.5*(1-Math.abs(n.y)/t.getComponent(d).height),1):t.scale=_(1,1,1)):(t.getComponent(x).opacity=0,t.scale=_(1,1,1)),t.scale.x>1.25&&i._curIndex!=e&&(i._curIndex=e,i.isSetNew||V.instance.emit(p.onSetBase,i.type,i._curIndex))}};this._ScrollViewView.node.on("scroll-ended",(function(){c(),i.isSetNew=!1}),this),this._ScrollViewView.node.on("scrolling",c,this),this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,.2)},c.onScrollTouchUp=function(e){var t=this;void 0===e&&(e=.5),this.scheduleOnce((function(){var e=t._ScrollViewView.getScrollOffset();t._curIndex=Math.round(Math.abs(e.y)/76),t._ScrollViewView.stopAutoScroll(),t._curIndex=t._curIndex<0?0:t._curIndex>t._maxIndex?t._maxIndex:t._curIndex,t._ScrollViewView.scrollToPercentVertical((t._maxIndex-t._curIndex)/t._maxIndex,.1)}),e)},c.setNewPos=function(e){this._curIndex!=e&&(this._curIndex=e,this.isSetNew=!0,this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,.1))},c.doReset=function(){this._curIndex=0,this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,1e-4)},c.getDefaultValue=function(e){return this.type==w.baseScore||this.type==w.baseBet?m.instance.moneyFormat(this.itemList[e]):this.itemList[e].toString()},t}(u)).prototype,"type",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return w.baseScore}}),T=t(v.prototype,"item",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y)||y));c._RF.pop()}}}));

System.register("chunks:///_virtual/ui_setBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./ViewManager.ts","./EventManager.ts","./ui_ScrollView.ts","./MjxxlModel.ts","./MjxxlUtils.ts"],(function(e){var t,n,a,i,s,r,o,c,l,u,b,_,d,h,p,f,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,o=e.Label,c=e.Node,l=e.tween,u=e.Component},function(e){b=e.eEvent,_=e.eAutoRateType},function(e){d=e.default},function(e){h=e.default},function(e){p=e.default},function(e){f=e.MjxxlModel},function(e){x=e.MjxxlUtils}],execute:function(){var B,w,m,I,g,y,L,S,R,V,v,C,W,P,M,T,z,F;s._RF.push({},"dd2fdNklilAdaC6Yy8rl4uq","ui_setBase",void 0);var k=r.ccclass,j=r.property,N=r.menu;e("default",(B=k("UiSetBase"),w=N("game/MjxxlGame/ui_setBase"),m=j(o),I=j(o),g=j(o),y=j(c),L=j(c),S=j(c),R=j(c),B(V=w((C=t((v=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"Label_bet",C,i(t)),a(t,"Label_gold",W,i(t)),a(t,"Label_win",P,i(t)),a(t,"scrollView_baseScore",M,i(t)),a(t,"scrollView_baseRate",T,i(t)),a(t,"scrollView_basePay",z,i(t)),a(t,"scrollView_baseBet",F,i(t)),t._curIndex_baseScore=0,t._curIndex_baseRate=0,t._curIndex_baseBet=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=x.instance.moneyFormat(f.instance.curBalance);this.Label_gold.string=e,f.instance.curTotalWin>0?this.Label_win.string=x.instance.moneyFormat(f.instance.curTotalWin):this.Label_win.string=x.instance.moneyFormat(0),this.Label_bet.string=x.instance.moneyFormat(f.instance.curBet);var t=f.instance.baseBetInfoList[f.instance._curIndex_baseBet];this._curIndex_baseScore=t.baseScoreIndex,this._curIndex_baseRate=t.baseRateIndex,this._curIndex_baseBet=f.instance._curIndex_baseBet,this.scrollView_baseScore.getComponent(p).init(f.instance.baseScoreList,this._curIndex_baseScore),this.scrollView_baseRate.getComponent(p).init(f.instance.baseRateList,this._curIndex_baseRate),this.scrollView_basePay.getComponent(p).init(f.instance.basePayList,0),this.scrollView_baseBet.getComponent(p).init(f.instance.baseBetList,this._curIndex_baseBet)},s.onEnable=function(){h.instance.on(b.onSetBase,this.onSetBase,this),h.instance.on(b.updateWin,this.updateWin,this)},s.onDisable=function(){h.instance.off(b.onSetBase,this.onSetBase,this),h.instance.off(b.updateWin,this.updateWin,this)},s.updateWin=function(e){var t=this;if(0!=e){var n=f.instance.curTotalWin+e,a=e/10;l(this.Label_win.node).repeat(11,l(this.Label_win.node).delay(.05).call((function(){f.instance.curTotalWin+=a,f.instance.curTotalWin>n&&(f.instance.curTotalWin=n),t.Label_win.string=x.instance.moneyFormat(f.instance.curTotalWin)}))).start()}else f.instance.curTotalWin>0?this.Label_win.string=x.instance.moneyFormat(f.instance.curTotalWin):this.Label_win.string=x.instance.moneyFormat(0)},s.updateBaseBetIndex=function(){for(var e=f.instance.baseScoreList[this._curIndex_baseScore]*f.instance.baseRateList[this._curIndex_baseRate]*f.instance.basePayList[0],t=0;t<f.instance.baseBetList.length;t++)if(f.instance.baseBetList[t]==e){this._curIndex_baseBet=t;break}},s.onSetBase=function(e,t){switch(e){case _.baseScore:this._curIndex_baseScore=t,this.updateBaseBetIndex(),this.scrollView_baseBet.getComponent(p).setNewPos(this._curIndex_baseBet);break;case _.baseRate:this._curIndex_baseRate=t,this.updateBaseBetIndex(),this.scrollView_baseBet.getComponent(p).setNewPos(this._curIndex_baseBet);break;case _.baseBet:this._curIndex_baseBet=t;var n=f.instance.baseBetInfoList[t];this._curIndex_baseScore=n.baseScoreIndex,this._curIndex_baseRate=n.baseRateIndex,this.scrollView_baseScore.getComponent(p).setNewPos(this._curIndex_baseScore),this.scrollView_baseRate.getComponent(p).setNewPos(this._curIndex_baseRate)}},s.onBtnClick=function(e){switch(e.target.name){case"Button_reset":this._curIndex_baseBet=0,this._curIndex_baseRate=0,this._curIndex_baseScore=0,this.scrollView_baseScore.getComponent(p).doReset(),this.scrollView_baseRate.getComponent(p).doReset(),this.scrollView_baseBet.getComponent(p).doReset();break;case"Button_ok":f.instance._curIndex_baseBet=this._curIndex_baseBet,h.instance.emit(b.updateBaseBet),d.instance.closePopView()}},t}(u)).prototype,"Label_bet",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(v.prototype,"Label_gold",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(v.prototype,"Label_win",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(v.prototype,"scrollView_baseScore",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(v.prototype,"scrollView_baseRate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(v.prototype,"scrollView_basePay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(v.prototype,"scrollView_baseBet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=v))||V)||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/ui_symbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./EventManager.ts","./ui_symbolItem.ts","./ui_rate.ts","./MjxxlModel.ts","./MjxxlUtils.ts"],(function(t){var e,n,i,o,r,a,s,c,u,l,f,m,p,h,d,v,g,y,b,C,_,k,S,N,E;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,o=t.assertThisInitialized,r=t.asyncToGenerator,a=t.createForOfIteratorHelperLoose,s=t.regeneratorRuntime},function(t){c=t.cclegacy,u=t._decorator,l=t.Prefab,f=t.Node,m=t.instantiate,p=t.UIOpacity,h=t.tween,d=t.UITransform,v=t.Component},function(t){g=t.eEvent,y=t.eRunStatus,b=t.eSound,C=t.eRunType},function(t){_=t.default},function(t){k=t.default},function(t){S=t.default},function(t){N=t.MjxxlModel},function(t){E=t.MjxxlUtils}],execute:function(){var x,w,L,I,M,P,R,j,D,O,z,U,G,T;c._RF.push({},"38cf93+KnlEZq1mmNRxiNNI","ui_symbol",void 0);var F=u.ccclass,q=u.property,A=u.menu;u.inspector,t("default",(x=F("UiSymbol"),w=A("game/MjxxlGame/ui_symbol"),L=q(l),I=q(f),M=q(f),P=q(l),R=q(S),x(j=w((O=e((D=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,i(e,"Prefab_symbolItem",O,o(e)),i(e,"mask",z,o(e)),i(e,"Node_colEffect",U,o(e)),i(e,"Node_rateEffect",G,o(e)),i(e,"ui_rate",T,o(e)),e.itemList=[],e}n(e,t);var c=e.prototype;return c.onEnable=function(){_.instance.on(g.onSetMask,this.onSetMask,this)},c.onDisable=function(){_.instance.off(g.onSetMask,this.onSetMask,this)},c.initSymbol=function(){for(var t=4;t>=0;t--){this.itemList[t]=[];for(var e=0;e<6;e++){var n=m(this.Prefab_symbolItem);n.getComponent(k).init(e,t),this.node.addChild(n),this.itemList[t].push(n)}}},c.initSymbolIcon=function(t){for(var e=0;e<5;e++)for(var n=0;n<6;n++){var i=this.itemList[e][n].getComponent(k),o=0==n?null:t[e][n-1];i.initSymbolIcon(o?o.Sym:null,o?o.IsGold:null)}},c.onSetMask=function(t,e){this.Node_colEffect.getPosition().x==e&&this.Node_colEffect.active||(this.mask.active||(this.mask.active=!0,this.mask.getComponent(p).opacity=0,h(this.mask.getComponent(p)).to(.2,{opacity:180}).start()),this.mask.getComponent(d).priority=5e3,this.mask.getComponent(d).width=10+144*t,this.Node_colEffect.active||(this.Node_colEffect.active=!0,this.Node_colEffect.getComponent(p).opacity=0,h(this.Node_colEffect.getComponent(p)).to(.2,{opacity:255}).start()),this.Node_colEffect.getComponent(d).priority=6e3,this.Node_colEffect.setPosition(e,this.Node_colEffect.position.y))},c.doRunning=function(t,e){var n=this;return new Promise((function(i,o){var r=N.instance.isQuickStop?0:.1*t,a=function(){for(var o=0;o<6;o++){var r=n.itemList[t][o].getComponent(k),a=e>=0?C.SPECIAL:C.NONE;r.initRun(a,e),r.doStartRun().then(i)}};if(0==r)return a();n.scheduleOnce((function(){return a()}),r)}))},c.doStartRun=function(){var t=this;if(_.instance.emit(g.onSymbolClick),N.instance.gameStatus==y.RUNNING)for(var e=0;e<5;e++)for(var n=0;n<6;n++){this.itemList[e][n].getComponent(k).quickStop()}else N.instance.gameStatus==y.NONE&&(this.ui_rate.doLight(0),r(s().mark((function e(){var n,i,o,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],i=N.instance.specialStartCol,o=-1,r=0;r<5;r++)o=i>0&&r>=i?o+1:-1,n.push(t.doRunning(r,o));return t.scheduleOnce((function(){E.instance.playSound(b.running,!0)}),.35),e.next=7,Promise.all(n);case 7:E.instance.stopSound(b.running),N.instance.gameStatus=y.STOPPING,_.instance.emit(g.onRunStop);case 10:case"end":return e.stop()}}),e)})))())},c.doClear=function(t){for(var e,n={},i=a(t);!(e=i()).done;)for(var o=e.value,r=0;r<o.length;r++){var s=o[r]+1,c=this.itemList[r][s];n[c.name]=c.getComponent(k)}for(var u=[],l=0,f=Object.entries(n);l<f.length;l++){var m=f[l],p=(m[0],m[1]);u.push(p.doClear())}return Promise.all(u)},c.doDrop=function(t){for(var e=0;e<5;e++){for(var n=this.itemList[e].slice(),i=0,o=5;o>=0;o--){var r=n[o],a=r.getComponent(k);a.isClear&&(n.splice(o,1),n.push(r),i++,a.doReset(5+i))}this.itemList[e]=n}for(var s=[],c=0;c<5;c++)for(var u=1;u<6;u++){var l=this.itemList[c][u].getComponent(k);s.push(l.doDrop(u,t[c][u-1]))}return Promise.all(s)},c.doEnd=function(){var t=r(s().mark((function t(e,n,i){var o=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=i<4?i:3,this.mask.active=!0,this.mask.getComponent(d).priority=5e3,this.mask.getComponent(p).opacity=0,h(this.mask.getComponent(p)).to(.2,{opacity:180}).start(),this.mask.getComponent(d).width=this.node.getComponent(d).width,t.next=8,this.doClear(e);case 8:return h(this.mask.getComponent(p)).to(.2,{opacity:0}).call((function(){o.mask.active=!1,o.mask.getComponent(d).width=0})).start(),this.ui_rate.doLight(i),t.abrupt("return",this.doDrop(n));case 11:case"end":return t.stop()}}),t,this)})));return function(e,n,i){return t.apply(this,arguments)}}(),e}(v)).prototype,"Prefab_symbolItem",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=e(D.prototype,"mask",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=e(D.prototype,"Node_colEffect",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(D.prototype,"Node_rateEffect",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=e(D.prototype,"ui_rate",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=D))||j)||j));c._RF.pop()}}}));

System.register("chunks:///_virtual/ui_symbolEffectRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./EventManager.ts"],(function(t){var e,n,o,i,f,c,a,r,s,l,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){f=t.cclegacy,c=t._decorator,a=t.Prefab,r=t.instantiate,s=t.sp,l=t.Component},function(t){u=t.eEvent},function(t){d=t.default}],execute:function(){var p,E,b,m,h,y;f._RF.push({},"ba08ctMMZFFeqL9/bWEwxw4","ui_symbolEffectRoot",void 0);var _=c.ccclass,v=c.property,D=c.menu;c.inspector,t("default",(p=_("UiSymbolEffectRoot"),E=D("game/MjxxlGame/ui_symbolEffectRoot"),b=v(a),p(m=E((y=e((h=function(t){function e(){for(var e,n=arguments.length,f=new Array(n),c=0;c<n;c++)f[c]=arguments[c];return e=t.call.apply(t,[this].concat(f))||this,o(e,"prefab_symbolEffect",y,i(e)),e}n(e,t);var f=e.prototype;return f.onEnable=function(){d.instance.on(u.onAddEffect,this.onAddEffect,this),d.instance.on(u.onDelEffect,this.onDelEffect,this)},f.onDisable=function(){d.instance.off(u.onAddEffect,this.onAddEffect,this),d.instance.off(u.onDelEffect,this.onDelEffect,this)},f.start=function(){},f.onAddEffect=function(t,e,n){var o=r(this.prefab_symbolEffect);o.name="symbolEffect_"+t+"_"+e,o.position=n,this.node.addChild(o);var i=o.getComponent(s.Skeleton);i.setAnimation(0,"boom",!1),i.addAnimation(0,"idle",!0)},f.onDelEffect=function(t,e){var n=this.node.getChildByName("symbolEffect_"+t+"_"+e);n&&n.destroyFromParent()},e}(l)).prototype,"prefab_symbolEffect",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=h))||m)||m));f._RF.pop()}}}));

System.register("chunks:///_virtual/ui_symbolInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./EventManager.ts","./MjxxlUtils.ts"],(function(e){var t,o,i,n,a,r,l,s,c,u,f,d,m,p,h,b,y,_,v,N;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label,u=e.tween,f=e.v3,d=e.instantiate,m=e.UITransform,p=e.sp,h=e.UIOpacity,b=e.Component},function(e){y=e.eEvent,_=e.eSymbol},function(e){v=e.default},function(e){N=e.MjxxlUtils}],execute:function(){var g,I,C,L,w,k,S,x,z,D,E,F,M,U,T,j;r._RF.push({},"2cb4egqplFEaJtRqk6cUdMt","ui_symbolInfo",void 0);var A=l.ccclass,P=l.property,B=l.menu,R=(l.inspector,[[15,60,100],[10,40,80],[8,20,60],[6,15,40],[4,10,20],[4,10,20],[2,5,10],[2,5,10]]);e("default",(g=A("UiSymbolInfo"),I=B("game/MjxxlGame/ui_symbolInfo"),C=P(s),L=P(s),w=P(s),k=P(c),S=P(c),x=P(s),g(z=I((E=t((D=function(e){function t(){for(var t,o=arguments.length,a=new Array(o),r=0;r<o;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,i(t,"Node_info",E,n(t)),i(t,"Node_rateInfo",F,n(t)),i(t,"Node_icon",M,n(t)),i(t,"Label_hu",U,n(t)),i(t,"Label_wild",T,n(t)),i(t,"mask",j,n(t)),t}o(t,e);var r=t.prototype;return r.onLoad=function(){var e=this;this.mask.on(s.EventType.TOUCH_END,(function(){e.mask.active=!1,u(e.Node_info).to(.1,{scale:f(1.2,1.2,1)}).to(.2,{scale:f(.5,.5,1)}).call((function(){e.mask.active=!1;var t=e.Node_info.getChildByName("symbolNode");t&&t.destroyFromParent(),e.Node_info.active=!1})).start()}),this)},r.onEnable=function(){v.instance.on(y.onSymbolClick,this.showSymbolInfo,this)},r.onDisable=function(){v.instance.off(y.onSymbolClick,this.showSymbolInfo,this),this.mask.off("click",null,this)},r.showSymbolInfo=function(e,t,o){if(!t){this.mask.active=!1;var i=this.Node_info.getChildByName("symbolNode");return i&&i.destroyFromParent(),void(this.Node_info.active=!1)}this.mask.active=!0,this.Node_info.active=!0,this.Node_info.position=o;for(var n,r=a(this.Node_info.children);!(n=r()).done;){var l=n.value;"symbolNode"==l.name&&l.destroyFromParent()}var s=d(t);if(s.name="symbolNode",this.Node_info.addChild(s),e<_.WILD){s.getComponent(m).priority=0,this.Node_rateInfo.getComponent(m).priority=1,this.Label_hu.node.active=!1,this.Label_wild.node.active=!1,this.Node_icon.active=!0;for(var b=R[e-1],y=0;y<3;y++){this.Node_icon.getChildByName("Label_rate_"+y).getComponent(c).string=""+b[y]}}else{s.getComponent(m).priority=1,this.Node_rateInfo.getComponent(m).priority=0,this.Node_icon.active=!1,this.Label_hu.node.active=e==_.SCATTER,this.Label_wild.node.active=e==_.WILD;var v=s.getComponent(p.Skeleton);v&&(v.premultipliedAlpha=!1,v.setAnimation(0,N.instance.getSymbolAniName(e,!1),!0))}this.Node_info.getComponent(h).opacity=255,this.Node_info.scale=f(.5,.5,1),u(this.Node_info).to(.2,{scale:f(1.2,1.2,1)}).to(.1,{scale:f(1,1,1)}).start()},t}(b)).prototype,"Node_info",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(D.prototype,"Node_rateInfo",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(D.prototype,"Node_icon",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=t(D.prototype,"Label_hu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(D.prototype,"Label_wild",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(D.prototype,"mask",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=D))||z)||z));r._RF.pop()}}}));

System.register("chunks:///_virtual/ui_symbolItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./EventManager.ts","./MjxxlModel.ts","./MjxxlUtils.ts"],(function(o){var e,n,t,i,s,l,a,d,r,c,p,u,m,h,y,f,S,b,g,x,I,C,_,v;return{setters:[function(o){e=o.applyDecoratedDescriptor,n=o.inheritsLoose,t=o.initializerDefineProperty,i=o.assertThisInitialized,s=o.asyncToGenerator,l=o.regeneratorRuntime},function(o){a=o.cclegacy,d=o._decorator,r=o.Label,c=o.v3,p=o.UITransform,u=o.tween,m=o.sp,h=o.UIOpacity,y=o.Sprite,f=o.Component},function(o){S=o.eRunType,b=o.eSound,g=o.eEvent,x=o.eSymbol,I=o.eRunStatus},function(o){C=o.default},function(o){_=o.MjxxlModel},function(o){v=o.MjxxlUtils}],execute:function(){var P,R,w,E,N,A,k;a._RF.push({},"d4032vyRZJCv4kEsMBjEuF3","ui_symbolItem",void 0);var M=d.ccclass,T=d.property,Y=d.menu,L=(d.inspector,-415),D=166,G=300,O=3e3,H=996;o("default",(P=M("UiSymbolItem"),R=Y("game/MjxxlGame/ui_symbolItem"),w=T(r),P(E=R(((k=function(o){function e(){for(var e,n=arguments.length,s=new Array(n),l=0;l<n;l++)s[l]=arguments[l];return e=o.call.apply(o,[this].concat(s))||this,t(e,"Label_tag",A,i(e)),e.isSpine=!1,e.curSpeed=0,e.curAspeed=0,e.totalY=0,e.stopPosY=0,e.Node_symbol=null,e.itemIndex=0,e.iRow=0,e.iCol=0,e.spaceH=H,e.lastSpeed=G,e.isSpecialRunning=!1,e.symbolIndex=0,e.isGold=!1,e._runType=S.NONE,e._rounds=0,e._specialIndex=0,e.specialSpaceH=0,e.isClear=!1,e.curIndex=0,e}n(e,o);var a=e.prototype;return a.onEnable=function(){this.node.on("click",this.onSymbolClick,this)},a.onDisable=function(){this.node.off("click",this.onSymbolClick,this)},a.init=function(o,n){var t=141*n-280,i=L+D*o;this.node.position=c(t,i),this.node.name="Node_symbolItem_"+n+"_"+o,this.iRow=o,this.iCol=n;var s=10*(5-n)+(8-o);this.node.getComponent(p).priority=s,this.itemIndex=s,this.curIndex=s,this.stopPosY=i,this.Node_symbol=this.node.getChildByName("Node_symbol"),e.playEndTag[this.iCol]=!1},a.initSymbolIcon=function(o,n){var t=this;this.updateSymbol(o,n);var i=.15*this.iCol;this.node.setPosition(this.node.position.x,450+this.iRow*D),u(this.node).delay(i).to(.25,{position:c(this.node.position.x,this.stopPosY-35)},{easing:"cubicIn"}).call((function(){e.playEndTag[t.iCol]||(v.instance.playOneShot(b.drop_1),e.playEndTag[t.iCol]=!0)})).to(.05,{position:c(this.node.position.x,this.stopPosY+20)},{easing:"cubicIn"}).to(.03,{position:c(this.node.position.x,this.stopPosY)},{easing:"cubicIn"}).start()},a.initRun=function(o,n){this._runType=o,this._rounds=4,this._specialIndex=n,e.playEndTag[this.iCol]=!1},a.doStartRun=function(){var o=s(l().mark((function o(){return l().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,this.doStartMove();case 2:return o.next=4,this.doRunning();case 4:return o.next=6,this.doStopping();case 6:return o.abrupt("return",this.doEnd());case 7:case"end":return o.stop()}}),o,this)})));return function(){return o.apply(this,arguments)}}(),a.quickStop=function(){if(this.totalY>1031){this.curSpeed=O,this.curAspeed=500;var o=(this.totalY-35)%H;this.totalY=1031+o,this.spaceH=H}},a.doStartMove=function(){var o=this;return new Promise((function(e,n){u(o.node).to(.1,{position:c(o.node.getPosition().x,o.node.getPosition().y+35)},{easing:"cubicOut"}).call((function(){if(o._rounds=_.instance.isQuickStop?1:o._rounds,o.curAspeed=_.instance.isQuickStop?500:0,o.curSpeed=_.instance.isQuickStop?O:0,o.Node_symbol.scale=c(1,1,1),o.node.getComponent(p).priority=o.itemIndex,o.isSpecialRunning=!1,o._runType==S.SPECIAL){var n=6*(o._specialIndex+1),t=o._rounds;o._rounds=t+n,o.totalY=H*(o._rounds+3)+35,o.spaceH=2988,o.specialSpaceH=0==o._specialIndex?H*(n+3):2988,o.lastSpeed=900}else o.totalY=H*o._rounds+35,o.spaceH=H,o.lastSpeed=G;e()})).start()}))},a.doRunning=function(){var o=this;return new Promise((function(e,n){o.schedule((function n(t){o.curSpeed<O&&(o.curAspeed+=50,o.curSpeed+=o.curAspeed);var i=o.curSpeed*t;o.node.setPosition(o.node.position.x,o.node.position.y-i),o.node.getPosition().y<=-450&&(o.node.setPosition(o.node.position.x,o.node.position.y+H),o.updateSymbol()),o.totalY-=i,o._runType==S.SPECIAL&&o.totalY<o.specialSpaceH&&!o.isSpecialRunning&&(C.instance.emit(g.onSetMask,o.iCol,o.node.getPosition().x),o.isSpecialRunning=!0,o.node.scale=c(1.025,1.025,1)),o.totalY<o.spaceH&&(o.unschedule(n),e())}))}))},a.doStopping=function(){var o=this;return new Promise((function(e,n){o.schedule((function n(t){o.curAspeed=o.curAspeed<-75?o.curAspeed:o.curAspeed+-75,o.curSpeed+=o.curAspeed,o.curSpeed<o.lastSpeed&&(o.curSpeed=o.lastSpeed);var i=o.curSpeed*t;if(o.node.setPosition(o.node.position.x,o.node.position.y-i),o.totalY-=i,o.totalY<=0)o.unschedule(n),e();else if(o.node.getPosition().y<=-450)if(o.node.setPosition(o.node.position.x,o.node.position.y+H),0==o.iRow)o.updateSymbol();else{var s=_.instance.betResult.Res[0].AllPosMsg[o.iCol],l=s&&s[o.iRow-1]?s[o.iRow-1]:null;o.updateSymbol(l?l.Sym:null,l?l.IsGold:null)}}))}))},a.doEnd=function(){var o=this;return new Promise((function(n,t){var i=o.Node_symbol.getComponent(m.Skeleton),s=o._runType==S.SPECIAL?.2:0;e.playEndTag[o.iCol]||(v.instance.playOneShot(b.drop_1),e.playEndTag[o.iCol]=!0),u(o.node).to(.1,{position:c(o.node.position.x,o.stopPosY+35)},{easing:"cubicOut"}).to(.05,{position:c(o.node.position.x,o.stopPosY)},{easing:"cubicIn"}).to(s,{scale:c(1,1,1)}).call((function(){o.isSpecialRunning=!1,o.updateZIndex(),i&&"icon_hu"==i.skeletonData.name&&(o.node.getComponent(p).priority=o.node.getComponent(p).priority+2e4,i.setAnimation(0,"intro",!1),i.setCompleteListener((function(){i.setCompleteListener(null),i.setAnimation(0,"idle",!0)}))),n()})).start()}))},a.doClear=function(){var o=this;return new Promise((function(n,t){o.node.getComponent(p).priority=o.node.getComponent(p).priority+1e4,C.instance.emit(g.onAddEffect,o.iRow,o.iCol,o.node.position),o.updateSymbol(o.symbolIndex,o.isGold,!0),e.playEndTag[o.iCol]=!1,o.scheduleOnce((function(){var e=o.Node_symbol.getComponent(m.Skeleton);e&&"icon_hu"!=e.skeletonData.name?(e.setAnimation(0,v.instance.getSymbolAniName(o.symbolIndex,o.isGold,!1),!1),e.setCompleteListener((function(){e.setCompleteListener(null),o.isGold?o.updateSymbol(x.WILD,!1,!0):(o.Node_symbol.getComponent(h).opacity=0,o.isClear=!0),C.instance.emit(g.onDelEffect,o.iRow,o.iCol),n()}))):n()}),1)}))},a.doReset=function(o){this.node.setPosition(this.node.position.x,L+D*o)},a.doDrop=function(o,n){var t=this;return new Promise((function(i,s){t.iRow=o;var l=10*(5-t.iCol)+(8-t.iRow);t.itemIndex=l,t.curIndex=l;var a=L+D*o;if(t.stopPosY=a,t.node.name="Node_symbolItem_"+t.iCol+"_"+t.iRow,t.isClear=!1,a<t.node.getPosition().y){t.Node_symbol.getComponent(h).opacity=255,t.updateSymbol(n?n.Sym:null,n?n.IsGold:null);var d=Math.abs(a-t.node.getPosition().y)/1e3;u(t.node).to(d,{position:c(t.node.position.x,a)},{easing:"cubicIn"}).call((function(){e.playEndTag[t.iCol]||(v.instance.playOneShot(b.drop_1),e.playEndTag[t.iCol]=!0)})).to(.05,{position:c(t.node.position.x,a+20)},{easing:"cubicIn"}).to(.05,{position:c(t.node.position.x,a)},{easing:"cubicIn"}).call((function(){i()})).start()}else i()}))},a.updateSymbol=function(o,e,n){var t=this;if(void 0===e&&(e=null),void 0===n&&(n=!1),this.symbolIndex=o||Math.floor(10*Math.random()+1),this.isGold=null!=e?e:0!=this.iCol&&4!=this.iCol&&Math.random()>.5,o||this.symbolIndex!=x.WILD||(this.symbolIndex=Math.floor(8*Math.random()+1)),this.symbolIndex>=x.WILD&&(this.isGold=!1),n=!(this.symbolIndex<x.WILD)||n){var i=this.Node_symbol.getComponent(y);i&&i.destroy(),this.scheduleOnce((function(){var o=v.instance.getItemSymbolSpine(t.symbolIndex,t.isGold),e=t.Node_symbol.getComponent(m.Skeleton);e||(e=t.Node_symbol.addComponent(m.Skeleton)),e.premultipliedAlpha=!1,e.skeletonData=o,e.setAnimation(0,v.instance.getSymbolAniName(t.symbolIndex,t.isGold),!0)})),this.updateZIndex(1e4)}else{var s=this.Node_symbol.getComponent(m.Skeleton);s&&s.destroy(),this.scheduleOnce((function(){var o=v.instance.getItemSymbolIcon(t.symbolIndex,t.isGold),e=t.Node_symbol.getComponent(y);e||(e=t.Node_symbol.addComponent(y)),e.spriteFrame=o})),this.updateZIndex()}},a.updateZIndex=function(o){void 0===o&&(o=0),this.curIndex-=7;var e=this.curIndex;o>0&&(e+=o),this.node.getComponent(p).priority=this.isSpecialRunning?2e4+e:e},a.onSymbolClick=function(){if(_.instance.gameStatus==I.NONE&&0!=this.iRow&&5!=this.iRow){var o=this.iCol<2?this.node.getPosition().x+85:this.iCol>2?this.node.getPosition().x-85:this.node.getPosition().x,e=c(o,this.node.getPosition().y);C.instance.emit(g.onSymbolClick,this.symbolIndex,this.Node_symbol,e)}},e}(f)).playEndTag=[!1,!1,!1,!1,!1],A=e((N=k).prototype,"Label_tag",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=N))||E)||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/ui_winTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjxxlDef.ts","./LocalizedImage.ts","./MjxxlUtils.ts"],(function(e){var t,i,n,o,a,r,l,c,s,u,p,f,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,r=e._decorator,l=e.Label,c=e.sp,s=e.tween,u=e.Component},function(e){p=e.Constant},function(e){f=e.LocalizedImage},function(e){m=e.MjxxlUtils}],execute:function(){var _,d,b,g,h,y,w,v;a._RF.push({},"8c2b9vrrlNOYYY661fdgM7T","ui_winTip",void 0);var L=r.ccclass,x=r.property,S=r.menu;r.inspector,e("default",(_=L("UiWinTip"),d=S("game/MjxxlGame/ui_winTip"),b=x(f),g=x(l),_(h=d((w=t((y=function(e){function t(){for(var t,i=arguments.length,a=new Array(i),r=0;r<i;r++)a[r]=arguments[r];return t=e.call.apply(e,[this].concat(a))||this,n(t,"Sprite_title",w,o(t)),n(t,"Label_win",v,o(t)),t}i(t,e);var a=t.prototype;return a.start=function(){},a.onEnable=function(){},a.onDisable=function(){},a.doShow=function(e,t){var i=this;if(void 0===t&&(t=!1),this.Sprite_title.key=t?"tittle_tongcuoc":"tittle_thang",t)this.Label_win.string=""+m.instance.numberFormat(e/p.moneyRatio,2);else{this.node.getChildByName("Node_effect_base").getComponent(c.Skeleton).setAnimation(0,"animation",!1),this.node.getChildByName("Node_effect_coin").getComponent(c.Skeleton).setAnimation(0,"idle",!1);var n=e,o=e/10,a=0;s(this.Label_win.node).repeat(11,s(this.Label_win.node).delay(.05).call((function(){(a+=o)>n&&(a=n),i.Label_win.string=""+m.instance.numberFormat(a/p.moneyRatio,2)}))).start()}},t}(u)).prototype,"Sprite_title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(y.prototype,"Label_win",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h)||h));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/MjxxlGame', 'chunks:///_virtual/MjxxlGame'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});