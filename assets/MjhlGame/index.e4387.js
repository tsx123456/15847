System.register("chunks:///_virtual/Mjhl_btnEffect.ts",["./rollupPluginModLoBabelHelpers.js","cc","./EventManager.ts"],(function(e){var t,n,o,i,a,s,f,c,r,l,u,m,h,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized,a=e.createClass},function(e){s=e.cclegacy,f=e._decorator,c=e.Enum,r=e.sp,l=e.sys,u=e.Node,m=e.Component,h=e.CCClass},function(e){d=e.default}],execute:function(){var p,_,v,D,N,k,A,y,g;s._RF.push({},"7f4c7VDr0tKEZvo7jNVPGWo","Mjhl_btnEffect",void 0);var E=f.ccclass,M=f.property,b=f.menu,w=f.executeInEditMode,C=c({"<None>":0});e("default",(p=E("MjhlBtnEffect"),_=b("game/MjhlGame/Mjhl_btnEffect"),v=M(r.SkeletonData),D=M(r.SkeletonData),N=M({type:C,visible:function(){return!(null==this._skeletonData)}}),p(k=_(k=w((y=t((A=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return t=e.call.apply(e,[this].concat(a))||this,o(t,"_skeletonData",y,i(t)),o(t,"animation",g,i(t)),t.Node_effect=null,t.switchAnimation=null,t}n(t,e);var s=t.prototype;return s.onLoad=function(){},s._getAnimEnum=function(e){var t=e.getRuntimeData(!0);if(t){for(var n={"<None>":0},o=t.animations,i=0;i<o.length;i++){n[o[i].name]=i+1}return c(n)}return null},s._updateAnimEnum=function(){var e,t,n,o=this._getAnimEnum(this.skeletonData);e=this,t="_animation",n=o||C,h.Attr.setClassAttr(e,t,"type","Enum"),h.Attr.setClassAttr(e,t,"enumList",c.getList(n))},s.onEnable=function(){var e=this;this.Node_effect&&(this.Node_effect.destroyFromParent(),this.Node_effect=null),d.instance.on("onMouseMoveIn"+this.node.name,(function(t){if(!l.isMobile&&e.animation>0&&e.skeletonData){if(!e.Node_effect){e.Node_effect=new u,e.node.addChild(e.Node_effect);var n=e.Node_effect.addComponent(r.Skeleton);n.loop=!0,n.premultipliedAlpha=!1}e.scheduleOnce((function(){if(e.Node_effect){var t=e.Node_effect.getComponent(r.Skeleton);if(t.skeletonData=e.skeletonData,e.switchAnimation)t.setAnimation(0,e.switchAnimation,!0);else{var n=e.skeletonData.getRuntimeData(!0).animations[e.animation-1];t.setAnimation(0,n.name,!0)}}}))}}),this),d.instance.on("onMouseMoveOut"+this.node.name,(function(t){l.isMobile||e.Node_effect&&t.type==u.EventType.MOUSE_LEAVE&&(e.Node_effect.destroyFromParent(),e.Node_effect=null)}),this),this.node.on("pauseEffect",(function(){e.Node_effect&&(e.Node_effect.active=!1)}),this),this.node.on("resumeEffect",(function(){if(e.Node_effect){e.Node_effect.active=!0;var t=e.Node_effect.getComponent(r.Skeleton);if(e.switchAnimation)t.setAnimation(0,e.switchAnimation,!0);else{var n=e.skeletonData.getRuntimeData(!0).animations[e.animation-1];t.setAnimation(0,n.name,!0)}}}),this)},s.onDisable=function(){d.instance.off("onMouseMoveIn"+this.node.name),d.instance.off("onMouseMoveOut"+this.node.name),this.node.off("pauseEffect"),this.node.off("resumeEffect")},s.switchAni=function(e){if(void 0===e&&(e=null),this.switchAnimation&&!e&&this.Node_effect){this.Node_effect.active=!0;var t=this.Node_effect.getComponent(r.Skeleton),n=this.skeletonData.getRuntimeData(!0).animations[this.animation-1];t.setAnimation(0,n.name,!0)}this.switchAnimation=e},a(t,[{key:"skeletonData",get:function(){return this._skeletonData},set:function(e){this._skeletonData=e}}]),t}(m)).prototype,"_skeletonData",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),t(A.prototype,"skeletonData",[D],Object.getOwnPropertyDescriptor(A.prototype,"skeletonData"),A.prototype),g=t(A.prototype,"animation",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return C["<None>"]}}),k=A))||k)||k)||k));s._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_helpTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./LocalizedImage.ts"],(function(t){var i,e,o,n,p,r,s,a,h,l,d,c,u;return{setters:[function(t){i=t.applyDecoratedDescriptor,e=t.inheritsLoose,o=t.initializerDefineProperty,n=t.assertThisInitialized},function(t){p=t.cclegacy,r=t._decorator,s=t.Sprite,a=t.Tween,h=t.UITransform,l=t.tween,d=t.v3,c=t.Component},function(t){u=t.LocalizedImage}],execute:function(){var f,_,S,y,m,g;p._RF.push({},"5a6afh2YMRBybVd0w0j/Uf/","Mjhl_helpTip",void 0);var w=r.ccclass,v=r.property,C=r.menu;r.inspector,t("default",(f=w("UiHelpTip"),_=C("game/MjhlGame/Mjhl_helpTip"),S=v(s),f(y=_((g=i((m=function(t){function i(){for(var i,e=arguments.length,p=new Array(e),r=0;r<e;r++)p[r]=arguments[r];return i=t.call.apply(t,[this].concat(p))||this,o(i,"Sprite_tip",g,n(i)),i.curIndex=0,i}e(i,t);var p=i.prototype;return p.start=function(){},p.onEnable=function(){this.doShow()},p.onDisable=function(){this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),a.stopAllByTarget(this.Sprite_tip.node)},p.doShow=function(){var t=this;if(this.curIndex=Math.floor(7*Math.random()),this.Sprite_tip.getComponent(u).key="info"+this.curIndex,this.Sprite_tip.node.getComponent(h).width>this.node.parent.getComponent(h).width){var i=(this.Sprite_tip.node.getComponent(h).width-this.node.parent.getComponent(h).width)/2+20;this.Sprite_tip.node.setPosition(i,this.Sprite_tip.node.position.y);var e=i-this.Sprite_tip.node.getComponent(h).width-40;l(this.Sprite_tip.node).delay(1).to(this.Sprite_tip.node.getComponent(h).width/100,{position:d(e,this.Sprite_tip.node.position.y)}).call((function(){t.doShow()})).start()}else this.Sprite_tip.node.setPosition(0,this.Sprite_tip.node.position.y),l(this.Sprite_tip.node).delay(2).call((function(){t.doShow()})).start()},i}(c)).prototype,"Sprite_tip",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=m))||y)||y));p._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_history.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./MjhlDef.ts","./GameDef.ts","./Common.ts","./MjhlCtrl.ts"],(function(t){var e,i,n,r,a,o,s,c,l,u,h,_,g;return{setters:[function(t){e=t.inheritsLoose,i=t.applyDecoratedDescriptor,n=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,s=t.Label,c=t.Node},function(t){l=t.default},function(t){u=t.eProto},function(t){h=t.GameDef},function(t){_=t.Common},function(t){g=t.MjhlCtrl}],execute:function(){var f,p,P,y,b,d,m,v,B,w,j,L;a._RF.push({},"b14e4XMQnhPIJjjkncScya9","Mjhl_history",void 0);var z=o.ccclass,M=o.property,D=o.menu;o.inspector,t("default",(f=z("UiHistory"),p=D("game/MjhlGame/Mjhl_history"),P=M(gts.List),y=M(s),b=M(c),d=M(c),f(m=p((v=function(t){function i(){for(var e,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,n(e,"scrollView_content",B,r(e)),n(e,"Label_curPage",w,r(e)),n(e,"Button_last",j,r(e)),n(e,"Button_next",L,r(e)),e._curPage=0,e._totalPage=0,e._lastPage=1,e._pageSize=13,e}e(i,t);var a=i.prototype;return a.onLoad=function(){t.prototype.onLoad.call(this,g.instance),this.Label_curPage.string="",g.instance.reqHistory(),_.showWait(),this.scheduleOnce(_.closeWait,3)},a.onBefore=function(){this._lastPage=this._curPage,this._curPage--,this._curPage<0&&(this._curPage=0);var t=this._curPage*this._pageSize;g.instance.reqHistory(t)},a.onNext=function(){this._lastPage=this._curPage,this._curPage++;var t=this._curPage*this._pageSize;g.instance.reqHistory(t)},a.updateView=function(t,e){switch(t){case u.HD_History:if(_.closeWait(),!e||!e.BetRecord||0==e.BetRecord.length)return this._curPage=this._lastPage,void(this.Button_next.active=!1);this.Button_last.active=this._curPage>0,this.Button_next.active=e.NextPage,this.Label_curPage.string=l.t("page")+":"+(this._curPage+1),this.scrollView_content.setData(e.BetRecord)}},i}(h.BaseView),B=i(v.prototype,"scrollView_content",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),w=i(v.prototype,"Label_curPage",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=i(v.prototype,"Button_last",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=i(v.prototype,"Button_next",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=v))||m)||m));a._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_historyItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoChangeParent.ts","./Common.ts","./MjhlUtils.ts"],(function(e){var t,i,n,a,o,l,r,c,u,s,b,m,p,h,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.createClass},function(e){l=e.cclegacy,r=e._decorator,c=e.Node,u=e.Label,s=e.UIOpacity,b=e.color,m=e.Component},function(e){p=e.default},function(e){h=e.Common},function(e){_=e.MjhlUtils}],execute:function(){var f,g,d,y,L,v,I,N,w,z,U,C,j,M,D,F,A,O,R,S,T,x;l._RF.push({},"9a545Tnb8pA/KjqTxaD3bii","Mjhl_historyItem",void 0);var B=r.ccclass,G=r.property,H=r.menu;r.inspector,e("default",(f=B("UiHistoryItem"),g=H("game/MjhlGame/Mjhl_historyItem"),d=G(c),y=G(c),L=G(c),v=G(u),I=G(u),N=G(u),w=G(u),z=G(u),U=G(u),f(C=g((M=t((j=function(e){function t(){for(var t,i=arguments.length,o=new Array(i),l=0;l<i;l++)o[l]=arguments[l];return t=e.call.apply(e,[this].concat(o))||this,n(t,"content_label",M,a(t)),n(t,"Node_label",D,a(t)),n(t,"Sprite_bg",F,a(t)),n(t,"Label_gameNo",A,a(t)),n(t,"Label_date",O,a(t)),n(t,"Label_time",R,a(t)),n(t,"Label_win",S,a(t)),n(t,"Label_bet",T,a(t)),n(t,"Label_gold",x,a(t)),t._gtItem=null,t}i(t,e);var l=t.prototype;return l.onLoad=function(){},l.onEnable=function(){this.node.active=!0,this.Node_label.active=!0},l.onDisable=function(){},l.start=function(){var e=this;p.Bind(this.Node_label,this.content_label,!0).OnUpdateNotify((function(t){e.Node_label.getComponent(s).opacity=e.node.getComponent(s).opacity,e.Node_label.active=e.node.active,e.Node_label.scale=e.node.scale}),this),this.item&&(this.item.OnDataChangedNotify((function(){e.UpdateUI()}),this),this.item.OnHideNotify((function(){e.node.active=!1,e.Node_label.active=!1}),this),this.UpdateUI())},l.UpdateUI=function(){var e=this.item.data;this.Sprite_bg.active=this.item.itemIndex%2!=0,this.Label_gameNo.string=h.setGameNo(e.GameNo);var t=h.getRecordResult(e);this.Label_gold.string=t;var i=h.getTimeFormat(e.CreateAt);this.Label_time.string=i.time,this.Label_date.string=i.date,this.Label_bet.string=_.instance.moneyFormat(e.BetAmount);var n="";e.Income>0?(n="+"+_.instance.moneyFormat(e.Income),this.Label_win.color=b(255,0,0,255)):e.Income<=0&&(n=""+_.instance.moneyFormat(e.Income),this.Label_win.color=b(104,245,1,255)),this.Label_win.string=n},o(t,[{key:"item",get:function(){return this._gtItem||(this._gtItem=this.getComponent(gts.ListItem)),this._gtItem}}]),t}(m)).prototype,"content_label",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(j.prototype,"Node_label",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(j.prototype,"Sprite_bg",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=t(j.prototype,"Label_gameNo",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(j.prototype,"Label_date",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),R=t(j.prototype,"Label_time",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=t(j.prototype,"Label_win",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(j.prototype,"Label_bet",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(j.prototype,"Label_gold",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=j))||C)||C));l._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_rank.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./GameDef.ts","./Common.ts","./MjhlCtrl.ts"],(function(e){var t,n,a,i,r,o,l,c,s,u,f;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,o=e._decorator,l=e.Label},function(e){c=e.eProto},function(e){s=e.GameDef},function(e){u=e.Common},function(e){f=e.MjhlCtrl}],execute:function(){var p,h,_,g,m,w,b,d;r._RF.push({},"7fcbdtwJgBBhZYBw6q5RoeX","Mjhl_rank",void 0);var y=o.ccclass,L=o.property,k=o.menu;o.inspector,e("default",(p=y("UiRank"),h=k("game/MjhlGame/Mjhl_rank"),_=L(gts.List),g=L(l),p(m=h((w=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=e.call.apply(e,[this].concat(r))||this,a(t,"scrollView_content",b,i(t)),a(t,"Label_curPage",d,i(t)),t._curPage=0,t._totalPage=0,t._lastPage=1,t}t(n,e);var r=n.prototype;return r.onLoad=function(){e.prototype.onLoad.call(this,f.instance),u.showWait(),this.scheduleOnce(u.closeWait,3),f.instance.reqRank()},r.updateView=function(e,t){switch(e){case c.HD_Rank:u.closeWait(),t.RankList&&this.scrollView_content.setData(t.RankList)}},n}(s.BaseView),b=n(w.prototype,"scrollView_content",[_],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),d=n(w.prototype,"Label_curPage",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=w))||m)||m));r._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_rankItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./AutoChangeParent.ts","./MjhlUtils.ts"],(function(e){var t,i,n,a,r,l,o,c,u,s,p,b,h,m,_;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,a=e.assertThisInitialized,r=e.createClass},function(e){l=e.cclegacy,o=e._decorator,c=e.Node,u=e.Sprite,s=e.Label,p=e.SpriteFrame,b=e.UIOpacity,h=e.Component},function(e){m=e.default},function(e){_=e.MjhlUtils}],execute:function(){var f,d,g,v,y,k,N,I,L,S,w,U,z,C,F,j,M,T,D,x;l._RF.push({},"fcd3473B+tGCKTurESlExeE","Mjhl_rankItem",void 0);var E=o.ccclass,O=o.property,B=o.menu;o.inspector,e("default",(f=E("UiRankItem"),d=B("game/MjhlGame/Mjhl_rankItem"),g=O(c),v=O(c),y=O(c),k=O(u),N=O(s),I=O(s),L=O(s),S=O(p),f(w=d((z=t((U=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),l=0;l<i;l++)r[l]=arguments[l];return t=e.call.apply(e,[this].concat(r))||this,n(t,"content_label",z,a(t)),n(t,"Node_label",C,a(t)),n(t,"Sprite_bg",F,a(t)),n(t,"Sprite_rankTag",j,a(t)),n(t,"Label_rank",M,a(t)),n(t,"Label_nickName",T,a(t)),n(t,"Label_win",D,a(t)),n(t,"spriteFrame_rank",x,a(t)),t._gtItem=null,t}i(t,e);var l=t.prototype;return l.onLoad=function(){},l.onEnable=function(){this.node.active=!0,this.Node_label.active=!0},l.onDisable=function(){},l.start=function(){var e=this;m.Bind(this.Node_label,this.content_label,!0).OnUpdateNotify((function(t){e.Node_label.getComponent(b).opacity=e.node.getComponent(b).opacity,e.Node_label.active=e.node.active,e.Node_label.scale=e.node.scale}),this),this.item&&(this.item.OnDataChangedNotify((function(){e.UpdateUI()}),this),this.item.OnHideNotify((function(){e.node.active=!1,e.Node_label.active=!1}),this),this.UpdateUI())},l.UpdateUI=function(){var e=this.item.data;if(!e||void 0===e)return this.node.active=!1,void(this.Node_label.active=!1);var t=this.item.itemIndex;t<3?(this.Sprite_rankTag.node.active=!0,this.Label_rank.node.active=!1,this.Sprite_rankTag.spriteFrame=this.spriteFrame_rank[t]):(this.Sprite_rankTag.node.active=!1,this.Label_rank.node.active=!0,this.Label_rank.string=""+(t+1)),this.Sprite_bg.active=this.item.itemIndex%2!=0,this.Label_nickName.string=""+e.NickName,this.Label_win.string=_.instance.moneyFormat(e.Score)},r(t,[{key:"item",get:function(){return this._gtItem||(this._gtItem=this.getComponent(gts.ListItem)),this._gtItem}}]),t}(h)).prototype,"content_label",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(U.prototype,"Node_label",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=t(U.prototype,"Sprite_bg",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(U.prototype,"Sprite_rankTag",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(U.prototype,"Label_rank",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(U.prototype,"Label_nickName",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=t(U.prototype,"Label_win",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(U.prototype,"spriteFrame_rank",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),w=U))||w)||w));l._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_rate.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./MjhlUtils.ts"],(function(e){var t,r,i,n,a,o,l,p,s,u,m,c,f,g,_,h,b,F,d;return{setters:[function(e){t=e.applyDecoratedDescriptor,r=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,l=e.SpriteFrame,p=e.Prefab,s=e.Sprite,u=e.Node,m=e.Component,c=e.instantiate,f=e.sp,g=e.find,_=e.tween,h=e.UIOpacity,b=e.v3},function(e){F=e.eSound},function(e){d=e.MjhlUtils}],execute:function(){var y,v,N,S,z,C,w,L,M,j,A,R,P,X,k,B,E,U,D,I,O,x,G,H,J,K,T,V,q,Q,W,Y;a._RF.push({},"60e1cfyBrNKJ6ezUVnAzfLe","Mjhl_rate",void 0);var Z=o.ccclass,$=o.property,ee=o.menu;o.inspector,e("default",(y=Z("UiRate"),v=ee("game/MjhlGame/Mjhl_rate"),N=$(l),S=$(l),z=$(l),C=$(l),w=$(p),L=$(l),M=$(l),j=$(l),A=$(l),R=$(s),P=$(s),X=$(s),k=$(u),B=$(u),y(E=v((D=t((U=function(e){function t(){for(var t,r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"spriteFrame_bgNomal",D,n(t)),i(t,"spriteFrame_bgFree",I,n(t)),i(t,"spriteFrame_longNormal",O,n(t)),i(t,"spriteFrame_longFree",x,n(t)),i(t,"Node_rateEffect",G,n(t)),i(t,"spriteFrame_rateNormal",H,n(t)),i(t,"spriteFrame_rateFree",J,n(t)),i(t,"spriteFrame_lightNormal",K,n(t)),i(t,"spriteFrame_lightFree",T,n(t)),i(t,"Sprite_bg",V,n(t)),i(t,"Sprite_longLeft",q,n(t)),i(t,"Sprite_longRight",Q,n(t)),i(t,"Node_rate",W,n(t)),i(t,"free_bglight",Y,n(t)),t.isFree=!1,t}r(t,e);var a=t.prototype;return a.onLoad=function(){},a.changeStatus=function(e){var t=this;void 0===e&&(e=!1),this.isFree=e;var r=null,i=null;e?(r=this.spriteFrame_rateFree,i=this.spriteFrame_lightFree,this.Sprite_bg.spriteFrame=this.spriteFrame_bgFree,this.Sprite_longLeft.spriteFrame=this.spriteFrame_longFree[0],this.Sprite_longRight.spriteFrame=this.spriteFrame_longFree[1],this.free_bglight.active=!0):(r=this.spriteFrame_rateNormal,i=this.spriteFrame_lightNormal,this.Sprite_bg.spriteFrame=this.spriteFrame_bgNomal,this.Sprite_longLeft.spriteFrame=this.spriteFrame_longNormal[0],this.Sprite_longRight.spriteFrame=this.spriteFrame_longNormal[1],this.free_bglight.active=!1),d.instance.playSound(F.fsMulti);for(var n=function(e){t.scheduleOnce((function(){var n=t.Node_rate.getChildByName("Sprite_rate_"+e),a=c(t.Node_rateEffect);a.position=n.position,t.Node_rate.addChild(a);var o=a.getComponent(f.Skeleton);o.setAnimation(0,"animation",!1),o.setCompleteListener((function(){a.destroyFromParent(),n.getComponent(s).spriteFrame=r[e],n.getChildByName("Sprite_light").getComponent(s).spriteFrame=i[e]}))}),.25*e)},a=0;a<4;a++)n(a)},a.doLight=function(e){for(var t=this,r=function(){var r=t.Node_rate.getChildByName("Sprite_rate_"+i),n=g("Sprite_light",r);if(n.active=i==e,n.active&&0!=e){var a=[F.multiActivate2,F.multiActivate3,F.multiActivate5];d.instance.playSound(a[e-1]);var o=c(t.Node_rateEffect);n.addChild(o);var l=o.getComponent(f.Skeleton);l.setAnimation(0,"animation",!1),l.setCompleteListener((function(){o.destroyFromParent()})),_(r).parallel(_(r).call((function(){var e=c(t.Node_rateEffect);r.addChild(e),e.getComponent(f.Skeleton).setAnimation(0,"animation",!1),e.getComponent(f.Skeleton).setCompleteListener((function(){e.destroyFromParent()}))})),_(r).call((function(){_(r.getComponent(h)).to(.2,{opacity:255}).start()})).to(.2,{scale:b(1.2,1.2,1)}).to(.1,{scale:b(1,1,1)})).call((function(){var r=[F.X2,F.X3,F.X5];t.isFree&&(r=[F.X4,F.X6,F.X10]),d.instance.playSound(r[e-1])})).start()}},i=0;i<4;i++)r()},t}(m)).prototype,"spriteFrame_bgNomal",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),I=t(U.prototype,"spriteFrame_bgFree",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=t(U.prototype,"spriteFrame_longNormal",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),x=t(U.prototype,"spriteFrame_longFree",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),G=t(U.prototype,"Node_rateEffect",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),H=t(U.prototype,"spriteFrame_rateNormal",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),J=t(U.prototype,"spriteFrame_rateFree",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),K=t(U.prototype,"spriteFrame_lightNormal",[j],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),T=t(U.prototype,"spriteFrame_lightFree",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),V=t(U.prototype,"Sprite_bg",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),q=t(U.prototype,"Sprite_longLeft",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=t(U.prototype,"Sprite_longRight",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(U.prototype,"Node_rate",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Y=t(U.prototype,"free_bglight",[B],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=U))||E)||E));a._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_ScrollView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./EventManager.ts","./MjhlUtils.ts"],(function(e){var t,i,n,o,r,c,l,s,a,h,u,d,_,w,p,V,m,x;return{setters:[function(e){t=e.applyDecoratedDescriptor,i=e.inheritsLoose,n=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){r=e.cclegacy,c=e._decorator,l=e.Node,s=e.ScrollView,a=e.instantiate,h=e.Label,u=e.Component,d=e.UITransform,_=e.v3,w=e.UIOpacity},function(e){p=e.eAutoRateType,V=e.eEvent},function(e){m=e.default},function(e){x=e.MjhlUtils}],execute:function(){var f,S,g,I,y,v,b,T,M,C;r._RF.push({},"bfadcw23zFBFJciNz2CLLI7","Mjhl_ScrollView",void 0);var L=c.ccclass,j=c.property,N=c.menu;c.inspector,e("default",(f=L("UiScrollView"),S=N("game/MjhlGame/Mjhl_ScrollView"),g=j({type:p}),I=j(),y=j(l),f(v=S((T=t((b=function(e){function t(){for(var t,i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return t=e.call.apply(e,[this].concat(r))||this,n(t,"type",T,o(t)),n(t,"itemCounts",M,o(t)),n(t,"item",C,o(t)),t._ScrollViewView=null,t._curIndex=0,t._maxIndex=0,t.itemList=void 0,t._hTouch=null,t._isLongTouch=!1,t.isSetNew=!1,t}i(t,e);var r=t.prototype;return r.onDisable=function(){this._hTouch&&clearTimeout(this._hTouch)},r.init=function(e,t){var i=this;this._ScrollViewView=this.node.getComponent(s),this.itemList=e,this._maxIndex=e.length-1,this._curIndex=t;for(var n=0;n<e.length;n++){var o=this._ScrollViewView.content.children[n];o||(o=a(this.item),this._ScrollViewView.content.addChild(o)),o.active=!0,o.name="item_"+n,o.getComponent(h).string=this.getDefaultValue(n)}this._ScrollViewView.node.on("touch-up",(function(){i.onScrollTouchUp()}),this),this._ScrollViewView.node.on("touchcancel",(function(){i.onScrollTouchUp()}),this);var r=function(){for(var e=0;e<i._ScrollViewView.content.children.length;e++){var t=i._ScrollViewView.content.children[e],n=t.getComponent(d).convertToWorldSpaceAR(_(0,0));n=i._ScrollViewView.node.getComponent(d).convertToNodeSpaceAR(n);var o=i._ScrollViewView.node.getComponent(d).height/2;Math.abs(n.y)<o?(t.getComponent(w).opacity=255*(1-Math.abs(n.y)/o),Math.abs(n.y)<t.getComponent(d).height?t.scale=_(1+.5*(1-Math.abs(n.y)/t.getComponent(d).height),1+.5*(1-Math.abs(n.y)/t.getComponent(d).height),1):t.scale=_(1,1,1)):(t.getComponent(w).opacity=0,t.scale=_(1,1,1)),t.scale.x>1.25&&i._curIndex!=e&&(i._curIndex=e,i.isSetNew||m.instance.emit(V.onSetBase,i.type,i._curIndex))}};this._ScrollViewView.node.on("scroll-ended",(function(){r(),i.isSetNew=!1}),this),this._ScrollViewView.node.on("scrolling",r,this),this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,.2)},r.onScrollTouchUp=function(e){var t=this;void 0===e&&(e=.5),this.scheduleOnce((function(){var e=t._ScrollViewView.getScrollOffset();t._curIndex=Math.round(Math.abs(e.y)/76),t._ScrollViewView.stopAutoScroll(),t._curIndex=t._curIndex<0?0:t._curIndex>t._maxIndex?t._maxIndex:t._curIndex,t._ScrollViewView.scrollToPercentVertical((t._maxIndex-t._curIndex)/t._maxIndex,.1)}),e)},r.setNewPos=function(e){this._curIndex!=e&&(this._curIndex=e,this.isSetNew=!0,this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,.1))},r.doReset=function(){this._curIndex=0,this._ScrollViewView.scrollToPercentVertical((this._maxIndex-this._curIndex)/this._maxIndex,1e-4)},r.getDefaultValue=function(e){return this.type==p.baseScore||this.type==p.baseBet?x.instance.moneyFormat(this.itemList[e]):this.itemList[e].toString()},t}(u)).prototype,"type",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return p.baseScore}}),M=t(b.prototype,"itemCounts",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),C=t(b.prototype,"item",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=b))||v)||v));r._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_setAuto.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlModel.ts","./MjhlDef.ts","./ViewManager.ts","./EventManager.ts"],(function(e){var t,o,n,i,l,a,r,s,c,u,p,f,d,h,m,g;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){l=e.cclegacy,a=e._decorator,r=e.Node,s=e.Button,c=e.Sprite,u=e.color,p=e.Label,f=e.Component},function(e){d=e.MjhlModel},function(e){h=e.eEvent},function(e){m=e.default},function(e){g=e.default}],execute:function(){var b,_,M,N,y,v,B,j;l._RF.push({},"fbe5cx6nWlBIafST5M7grRc","Mjhl_setAuto",void 0);var A=a.ccclass,k=a.property,C=a.menu;a.inspector,e("default",(b=A("MjhlSetAuto"),_=C("game/MjhlGame/Mjhl_setAuto"),M=k(r),N=k(s),b(y=_((B=t((v=function(e){function t(){for(var t,o=arguments.length,l=new Array(o),a=0;a<o;a++)l[a]=arguments[a];return(t=e.call.apply(e,[this].concat(l))||this).selNode=null,n(t,"contentRoot",B,i(t)),n(t,"Button_ok",j,i(t)),t}o(t,e);var l=t.prototype;return l.onLoad=function(){},l.onEnable=function(){},l.onDisable=function(){},l.onBtnClick=function(e){switch(e.target.name){case"close":g.instance.emit(h.onSetAuto,0),m.instance.closePopView();break;case"Button_ok":if(this.selNode){d.instance.selAutoIndex=parseInt(this.selNode.name.replace("Node_item_",""));var t=[10,30,50,80,1e3][d.instance.selAutoIndex];g.instance.emit(h.onSetAuto,t)}m.instance.closePopView();break;default:this.Button_ok.interactable=!0,this.selNode&&(this.selNode.getComponent(c).color=u(255,255,255,255),this.selNode.getChildByName("Label_times").getComponent(p).color=u(152,152,152,255)),this.selNode=e.target,this.selNode.getComponent(c).color=u(125,125,125,255),this.selNode.getChildByName("Label_times").getComponent(p).color=u(245,172,88,255)}},t}(f)).prototype,"contentRoot",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(v.prototype,"Button_ok",[N],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=v))||y)||y));l._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_setBase.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlModel.ts","./MjhlDef.ts","./ViewManager.ts","./EventManager.ts","./MjhlUtils.ts","./Mjhl_ScrollView.ts"],(function(e){var t,n,a,i,s,r,o,c,l,u,b,_,h,d,p,f,B;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,a=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){s=e.cclegacy,r=e._decorator,o=e.Label,c=e.Node,l=e.tween,u=e.Component},function(e){b=e.MjhlModel},function(e){_=e.eEvent,h=e.eAutoRateType},function(e){d=e.default},function(e){p=e.default},function(e){f=e.MjhlUtils},function(e){B=e.default}],execute:function(){var w,m,I,g,x,y,L,S,R,V,M,v,W,C,P,T,j,z;s._RF.push({},"819baTViBRNc4ye4WM9Z9wS","Mjhl_setBase",void 0);var F=r.ccclass,k=r.property,N=r.menu;r.inspector,e("default",(w=F("UiSetBase"),m=N("game/MjhlGame/Mjhl_setBase"),I=k(o),g=k(o),x=k(o),y=k(c),L=k(c),S=k(c),R=k(c),w(V=m((v=t((M=function(e){function t(){for(var t,n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return t=e.call.apply(e,[this].concat(s))||this,a(t,"Label_bet",v,i(t)),a(t,"Label_gold",W,i(t)),a(t,"Label_win",C,i(t)),a(t,"scrollView_baseScore",P,i(t)),a(t,"scrollView_baseRate",T,i(t)),a(t,"scrollView_basePay",j,i(t)),a(t,"scrollView_baseBet",z,i(t)),t._curIndex_baseScore=0,t._curIndex_baseRate=0,t._curIndex_baseBet=0,t}n(t,e);var s=t.prototype;return s.onLoad=function(){var e=f.instance.moneyFormat(b.instance.curBalance);this.Label_gold.string=e,b.instance.curTotalWin>0?this.Label_win.string=f.instance.moneyFormat(b.instance.curTotalWin):this.Label_win.string=f.instance.moneyFormat(0),this.Label_bet.string=f.instance.moneyFormat(b.instance.curBet);var t=b.instance.baseBetInfoList[b.instance._curIndex_baseBet];this._curIndex_baseScore=t.baseScoreIndex,this._curIndex_baseRate=t.baseRateIndex,this._curIndex_baseBet=b.instance._curIndex_baseBet,this.scrollView_baseScore.getComponent(B).init(b.instance.baseScoreList,this._curIndex_baseScore),this.scrollView_baseRate.getComponent(B).init(b.instance.baseRateList,this._curIndex_baseRate),this.scrollView_basePay.getComponent(B).init(b.instance.basePayList,0),this.scrollView_baseBet.getComponent(B).init(b.instance.baseBetList,this._curIndex_baseBet)},s.onEnable=function(){p.instance.on(_.onSetBase,this.onSetBase,this),p.instance.on(_.updateWin,this.updateWin,this)},s.onDisable=function(){p.instance.off(_.onSetBase,this.onSetBase,this),p.instance.off(_.updateWin,this.updateWin,this)},s.updateWin=function(e){var t=this;if(0!=e){var n=b.instance.curTotalWin+e,a=e/10;l(this.Label_win.node).repeat(11,l(this.Label_win.node).delay(.05).call((function(){b.instance.curTotalWin+=a,b.instance.curTotalWin>n&&(b.instance.curTotalWin=n),t.Label_win.string=f.instance.moneyFormat(b.instance.curTotalWin)}))).start()}else b.instance.curTotalWin>0?this.Label_win.string=f.instance.moneyFormat(b.instance.curTotalWin):this.Label_win.string=f.instance.moneyFormat(0)},s.updateBaseBetIndex=function(){for(var e=b.instance.baseScoreList[this._curIndex_baseScore]*b.instance.baseRateList[this._curIndex_baseRate]*b.instance.basePayList[0],t=0;t<b.instance.baseBetList.length;t++)if(b.instance.baseBetList[t]==e){this._curIndex_baseBet=t;break}},s.onSetBase=function(e,t){switch(e){case h.baseScore:this._curIndex_baseScore=t,this.updateBaseBetIndex(),this.scrollView_baseBet.getComponent(B).setNewPos(this._curIndex_baseBet);break;case h.baseRate:this._curIndex_baseRate=t,this.updateBaseBetIndex(),this.scrollView_baseBet.getComponent(B).setNewPos(this._curIndex_baseBet);break;case h.baseBet:this._curIndex_baseBet=t;var n=b.instance.baseBetInfoList[t];this._curIndex_baseScore=n.baseScoreIndex,this._curIndex_baseRate=n.baseRateIndex,this.scrollView_baseScore.getComponent(B).setNewPos(this._curIndex_baseScore),this.scrollView_baseRate.getComponent(B).setNewPos(this._curIndex_baseRate)}},s.onBtnClick=function(e){switch(e.target.name){case"Button_reset":this._curIndex_baseBet=0,this._curIndex_baseRate=0,this._curIndex_baseScore=0,this.scrollView_baseScore.getComponent(B).doReset(),this.scrollView_baseRate.getComponent(B).doReset(),this.scrollView_baseBet.getComponent(B).doReset();break;case"Button_ok":b.instance._curIndex_baseBet=this._curIndex_baseBet,p.instance.emit(_.updateBaseBet),d.instance.closePopView()}},t}(u)).prototype,"Label_bet",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),W=t(M.prototype,"Label_gold",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),C=t(M.prototype,"Label_win",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),P=t(M.prototype,"scrollView_baseScore",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=t(M.prototype,"scrollView_baseRate",[L],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=t(M.prototype,"scrollView_basePay",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=t(M.prototype,"scrollView_baseBet",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),V=M))||V)||V));s._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_symbol.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./EventManager.ts","./Mjhl_symbolItem.ts","./Mjhl_rate.ts","./MjhlUtils.ts","./MjhlModel.ts"],(function(t){var e,n,o,i,r,a,s,c,l,f,u,m,p,h,d,v,y,g,b,C,S,_,k,E,M,N,I,j;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,i=t.assertThisInitialized,r=t.asyncToGenerator,a=t.createForOfIteratorHelperLoose,s=t.regeneratorRuntime},function(t){c=t.cclegacy,l=t._decorator,f=t.Prefab,u=t.Node,m=t.instantiate,p=t.v3,h=t.UITransform,d=t.UIOpacity,v=t.tween,y=t.sp,g=t.Component},function(t){b=t.eEvent,C=t.eSound,S=t.eRunStatus,_=t.eSymbol,k=t.eRunType},function(t){E=t.default},function(t){M=t.default},function(t){N=t.default},function(t){I=t.MjhlUtils},function(t){j=t.MjhlModel}],execute:function(){var L,w,P,R,x,T,z,O,D,U,A,G,F,Q;c._RF.push({},"643f7l6/wJPMrOLjRf0Ciaj","Mjhl_symbol",void 0);var H=l.ccclass,q=l.property,B=l.menu,J=(l.inspector,[7,7,7,7,7]);t("default",(L=H("UiSymbol"),w=B("game/MjhlGame/Mjhl_symbol"),P=q(f),R=q(u),x=q(u),T=q(f),z=q(N),L(O=w((U=e((D=function(t){function e(){for(var e,n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];return e=t.call.apply(t,[this].concat(r))||this,o(e,"Prefab_symbolItem",U,i(e)),o(e,"mask",A,i(e)),o(e,"Node_colEffect",G,i(e)),o(e,"Node_rateEffect",F,i(e)),o(e,"Mjhl_rate",Q,i(e)),e.itemList=[],e}n(e,t);var c=e.prototype;return c.onEnable=function(){E.instance.on(b.onSetMask,this.onSetMask,this)},c.onDisable=function(){E.instance.off(b.onSetMask,this.onSetMask,this)},c.initSymbol=function(){for(var t=4;t>=0;t--){this.itemList[t]=[];for(var e=J[t],n=0;n<e;n++){var o=m(this.Prefab_symbolItem);o.getComponent(M).init(n,t),this.node.addChild(o),this.itemList[t].push(o)}}},c.initSymbolIcon=function(t){for(var e=0;e<5;e++)for(var n=J[e],o=0;o<n;o++){var i=this.itemList[e][o].getComponent(M),r=0==o?null:t[e][o-1];i.initSymbolIcon(r?r.Sym:null,r?r.IsGold:null)}},c.showFreeCoolEffect=function(){for(var t=[p(-400,450,0),p(350,400,0),p(-300,350,0),p(400,350,0),p(-350,300,0)],e=[p(0,420,0),p(0,210,0),p(0,0,0),p(0,-210,0),p(0,-420,0)],n=0;n<5;n++){var o=m(this.Prefab_symbolItem);this.node.addChild(o),o.getComponent(M).updateSymbol(null,!0),o.getComponent(h).priority=1e5+n,o.position=t[n],o.getComponent(d).opacity=0,v(o.getComponent(d)).delay(.1*n).to(.25,{opacity:255}).start();var i=e[n],r=p(i.x,i.y-1200);v(o).delay(.1*n+.25).to(.5,{position:i}).start(),v(o).delay(1.5).to(.5,{position:r}).destroySelf().start()}},c.onSetMask=function(t,e){if(this.Node_colEffect.getPosition().x!=e||!this.Node_colEffect.active){if(this.mask.active||(this.mask.active=!0,this.mask.getComponent(d).opacity=0,v(this.mask.getComponent(d)).to(.2,{opacity:180}).start()),this.mask.getComponent(h).priority=5e3,this.mask.getComponent(h).width=63+189*t,j.instance.curSpecialCol=t,!this.Node_colEffect.active)this.Node_colEffect.active=!0,this.Node_colEffect.getComponent(y.Skeleton).setAnimation(0,"normal_idle",!0),this.Node_colEffect.getComponent(d).opacity=0,v(this.Node_colEffect.getComponent(d)).to(.2,{opacity:255}).start();this.Node_colEffect.getComponent(h).priority=6e3,this.Node_colEffect.setPosition(e,this.Node_colEffect.position.y),I.instance.playSound(C.fastspinStart)}},c.doRunning=function(t,e){var n=this;return new Promise((function(o,i){var r=j.instance.isQuickStop&&j.instance.freeStatus==S.NONE?0:.15*t;n.scheduleOnce((function(){return function(){for(var i=J[t],r=0;r<i;r++){var a=n.itemList[t][r].getComponent(M),s=e>=0?k.SPECIAL:k.NONE;a.initRun(s,e),a.doStartRun().then(o)}}()}),r)}))},c.doStartRun=function(){var t=this;if(E.instance.emit(b.onSymbolClick),j.instance.gameStatus==S.RUNNING)for(var e=0;e<5;e++)for(var n=J[e],o=0;o<n;o++){this.itemList[e][o].getComponent(M).quickStop()}else j.instance.gameStatus==S.NONE&&(this.Mjhl_rate.doLight(0),r(s().mark((function e(){var n,o,i,r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],o=j.instance.specialStartCol,i=-1,r=0;r<5;r++)i=o>0&&r>=o?i+1:-1,n.push(t.doRunning(r,i));return e.next=6,Promise.all(n);case 6:j.instance.gameStatus=S.STOPPING,E.instance.emit(b.onRunStop);case 8:case"end":return e.stop()}}),e)})))())},c.doClear=function(t){for(var e,n={},o=a(t);!(e=o()).done;)for(var i=e.value,r=0;r<i.length;r++){var s=i[r]+1,c=this.itemList[r][s];n[c.name]=c.getComponent(M)}for(var l=[],f=0,u=Object.entries(n);f<u.length;f++){var m=u[f],p=(m[0],m[1]);l.push(p.doClear())}return Promise.all(l)},c.doDrop=function(t){for(var e=0;e<5;e++){for(var n=this.itemList[e].slice(),o=0,i=J[e],r=i-1;r>=0;r--){var a=n[r],s=a.getComponent(M);s.isClear&&(n.splice(r,1),n.push(a),o++,s.doReset(i-1+o))}this.itemList[e]=n}for(var c=[],l=0;l<5;l++)for(var f=J[l],u=1;u<f;u++){var m=this.itemList[l][u].getComponent(M);c.push(m.doDrop(u,t[l][u-1]))}return Promise.all(c)},c.doEnd=function(){var t=r(s().mark((function t(e,n,o){var i,r,c,l,f=this;return s().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(o=o<4?o:3,this.mask.active=!0,this.mask.getComponent(h).priority=5e3,this.mask.getComponent(d).opacity=0,v(this.mask.getComponent(d)).to(.2,{opacity:180}).delay(.8).to(.2,{opacity:0}).call((function(){f.mask.active=!1,f.mask.getComponent(h).width=0})).start(),this.mask.getComponent(h).width=10*this.node.getComponent(h).width/7,this.setScatterIndex(),i=0,r=a(e);!(c=r()).done;)l=c.value,i|=1<<l[0]+1;return 4369&i&&I.instance.playSound(Math.random()>.5?C.Quanzhong1:C.Quanzhong2),t.next=12,this.doClear(e);case 12:return this.Mjhl_rate.doLight(o),t.abrupt("return",this.doDrop(n));case 14:case"end":return t.stop()}}),t,this)})));return function(e,n,o){return t.apply(this,arguments)}}(),c.setScatterIndex=function(t){void 0===t&&(t=!0);for(var e=0;e<5;e++)for(var n=J[e],o=0;o<n;o++){var i=this.itemList[e][o].getComponent(M);i.symbolIndex==_.SCATTER&&i.setZIndex(t?0:3e4)}},c.doScatterEffect=function(){for(var t=0;t<5;t++)for(var e=J[t],n=0;n<e;n++){var o=this.itemList[t][n].getComponent(M);o.symbolIndex==_.SCATTER&&(I.instance.playSound(C.fsTrans),o.doScatterEffect())}},e}(g)).prototype,"Prefab_symbolItem",[P],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=e(D.prototype,"mask",[R],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),G=e(D.prototype,"Node_colEffect",[x],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=e(D.prototype,"Node_rateEffect",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Q=e(D.prototype,"Mjhl_rate",[z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),O=D))||O)||O));c._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_symbolEffectRoot.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./EventManager.ts"],(function(t){var e,n,o,f,i,r,c,s,a,l,u,d;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,o=t.initializerDefineProperty,f=t.assertThisInitialized},function(t){i=t.cclegacy,r=t._decorator,c=t.Prefab,s=t.instantiate,a=t.sp,l=t.Component},function(t){u=t.eEvent},function(t){d=t.default}],execute:function(){var p,h,m,E,y,b;i._RF.push({},"6d3ee9+0RpGJomvFDbjIax/","Mjhl_symbolEffectRoot",void 0);var _=r.ccclass,v=r.property,D=r.menu;r.inspector,t("default",(p=_("UiSymbolEffectRoot"),h=D("game/MjhlGame/Mjhl_symbolEffectRoot"),m=v(c),p(E=h((b=e((y=function(t){function e(){for(var e,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i))||this,o(e,"prefab_symbolEffect",b,f(e)),e}n(e,t);var i=e.prototype;return i.onEnable=function(){d.instance.on(u.onAddEffect,this.onAddEffect,this),d.instance.on(u.onDelEffect,this.onDelEffect,this)},i.onDisable=function(){d.instance.off(u.onAddEffect,this.onAddEffect,this),d.instance.off(u.onDelEffect,this.onDelEffect,this)},i.start=function(){},i.onAddEffect=function(t,e,n){var o=s(this.prefab_symbolEffect);o.name="symbolEffect_"+t+"_"+e,o.position=n,this.node.addChild(o);var f=o.getComponent(a.Skeleton);f.setAnimation(0,"idle",!1),f.setCompleteListener((function(){f.node.destroyFromParent()}))},i.onDelEffect=function(t,e){var n=this.node.getChildByName("symbolEffect_"+t+"_"+e);n&&n.destroyFromParent()},e}(l)).prototype,"prefab_symbolEffect",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=y))||E)||E));i._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_symbolInfo.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./EventManager.ts","./MjhlUtils.ts"],(function(e){var o,t,i,n,a,r,l,s,c,f,u,d,h,m,p,b,y,_,v,N;return{setters:[function(e){o=e.applyDecoratedDescriptor,t=e.inheritsLoose,i=e.initializerDefineProperty,n=e.assertThisInitialized,a=e.createForOfIteratorHelperLoose},function(e){r=e.cclegacy,l=e._decorator,s=e.Node,c=e.Label,f=e.tween,u=e.v3,d=e.instantiate,h=e.UITransform,m=e.sp,p=e.UIOpacity,b=e.Component},function(e){y=e.eEvent,_=e.eSymbol},function(e){v=e.default},function(e){N=e.MjhlUtils}],execute:function(){var g,L,I,w,C,k,S,M,j,z,D,F,E,T,U,A;r._RF.push({},"dffe64grFhGyp2880KvpJ1L","Mjhl_symbolInfo",void 0);var B=l.ccclass,P=l.property,H=l.menu,O=(l.inspector,[[10,25,50],[8,20,40],[6,15,30],[5,10,15],[3,5,12],[3,5,12],[1,3,6],[2,4,10],[1,3,6]]);e("default",(g=B("UiSymbolInfo"),L=H("game/MjhlGame/Mjhl_symbolInfo"),I=P(s),w=P(s),C=P(s),k=P(c),S=P(c),M=P(s),g(j=L((D=o((z=function(e){function o(){for(var o,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return o=e.call.apply(e,[this].concat(a))||this,i(o,"Node_info",D,n(o)),i(o,"Node_rateInfo",F,n(o)),i(o,"Node_icon",E,n(o)),i(o,"Label_hu",T,n(o)),i(o,"Label_wild",U,n(o)),i(o,"mask",A,n(o)),o}t(o,e);var r=o.prototype;return r.onLoad=function(){var e=this;this.mask.on(s.EventType.TOUCH_END,(function(){e.mask.active=!1,f(e.Node_info).to(.1,{scale:u(1.2,1.2,1)}).to(.2,{scale:u(.5,.5,1)}).call((function(){e.mask.active=!1;var o=e.Node_info.getChildByName("symbolNode");o&&o.destroyFromParent(),e.Node_info.active=!1})).start()}),this)},r.onEnable=function(){v.instance.on(y.onSymbolClick,this.showSymbolInfo,this)},r.onDisable=function(){v.instance.off(y.onSymbolClick,this.showSymbolInfo,this),this.mask.off("click",null,this)},r.showSymbolInfo=function(e,o,t){if(!o){this.mask.active=!1;var i=this.Node_info.getChildByName("symbolNode");return i&&i.destroyFromParent(),void(this.Node_info.active=!1)}this.mask.active=!0,this.Node_info.active=!0,this.Node_info.position=t;for(var n,r=a(this.Node_info.children);!(n=r()).done;){var l=n.value;"symbolNode"==l.name&&l.destroyFromParent()}var s=d(o);if(s.name="symbolNode",this.Node_info.addChild(s),s.getComponent(h).priority=0,this.Node_rateInfo.getComponent(h).priority=1,e<_.WILD){this.Label_hu.node.active=!1,this.Label_wild.node.active=!1,this.Node_icon.active=!0;for(var b=O[e-1],y=0;y<3;y++){this.Node_icon.getChildByName("Label_rate_"+y).getComponent(c).string=""+b[y]}}else{this.Node_icon.active=!1,this.Label_hu.node.active=e==_.SCATTER,this.Label_wild.node.active=e==_.WILD;var v=s.getChildByName("Node_icon").getComponent(m.Skeleton);v&&(v.premultipliedAlpha=!1,v.setAnimation(0,N.instance.getSymbolAniName(e,!1),!0))}this.Node_info.getComponent(p).opacity=255,this.Node_info.scale=u(.5,.5,1),f(this.Node_info).to(.2,{scale:u(1.2,1.2,1)}).to(.1,{scale:u(1,1,1)}).start()},o}(b)).prototype,"Node_info",[I],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),F=o(z.prototype,"Node_rateInfo",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=o(z.prototype,"Node_icon",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),T=o(z.prototype,"Label_hu",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),U=o(z.prototype,"Label_wild",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=o(z.prototype,"mask",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),j=z))||j)||j));r._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_symbolItem.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./EventManager.ts","./MjhlModel.ts","./MjhlUtils.ts"],(function(e){var t,o,n,i,s,a,c,d,l,r,p,u,h,m,y,S,g,f,C,b,I,x,_,N,R;return{setters:[function(e){t=e.applyDecoratedDescriptor,o=e.inheritsLoose,n=e.initializerDefineProperty,i=e.assertThisInitialized,s=e.asyncToGenerator,a=e.regeneratorRuntime},function(e){c=e.cclegacy,d=e._decorator,l=e.Node,r=e.v3,p=e.UITransform,u=e.tween,h=e.sys,m=e.sp,y=e.UIOpacity,S=e.Sprite,g=e.Component},function(e){f=e.eRunType,C=e.eRunStatus,b=e.eSymbol,I=e.eSound,x=e.eEvent},function(e){_=e.default},function(e){N=e.MjhlModel},function(e){R=e.MjhlUtils}],execute:function(){var v,P,w,A,E,Y,T,M,H;c._RF.push({},"7737dplzq5H2JMojH/8JM8V","Mjhl_symbolItem",void 0);var k=d.ccclass,G=d.property,O=d.menu,D=(d.inspector,210),L=300,j=4e3;e("default",(v=k("UiSymbolItem"),P=O("game/MjhlGame/Mjhl_symbolItem"),w=G(l),A=G(l),v(E=P(((H=function(e){function t(){for(var t,o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];return t=e.call.apply(e,[this].concat(s))||this,n(t,"Node_symbol",T,i(t)),n(t,"Node_icon",M,i(t)),t.isSpine=!1,t.curSpeed=0,t.curAspeed=0,t.curRspeed=0,t.totalY=0,t.stopPosY=0,t.itemIndex=0,t.iRow=0,t.iCol=0,t.maxRow=7,t.spaceH=D*t.maxRow,t.lastSpeed=L,t.minPosY=-630,t.startY=-630,t.cSpaceH=1260,t.isSpecialRunning=!1,t.symbolIndex=0,t.isGold=!1,t._runType=f.NONE,t._rounds=0,t._specialIndex=-1,t.status=0,t.specialSpaceH=0,t.isClear=!1,t.isReset=!1,t.curIndex=0,t}o(t,e);var c=t.prototype;return c.onEnable=function(){this.node.on("click",this.onSymbolClick,this)},c.onDisable=function(){this.node.off("click",this.onSymbolClick,this)},c.init=function(e,o){0==o||4==o?(this.minPosY=-635,this.startY=-530,this.maxRow=7):(this.minPosY=-635,this.startY=-630,this.maxRow=7),this.cSpaceH=D*this.maxRow;var n=189*o-378,i=this.startY+D*e;this.node.position=r(n,i),this.node.name="Node_symbolItem_"+o+"_"+e,this.iRow=e,this.iCol=o;var s=10*(5-o)+(9-e);this.node.getComponent(p).priority=s,this.itemIndex=s,this.curIndex=s,this.stopPosY=i,t.playEndTag[this.iCol]=!1},c.initSymbolIcon=function(e,o){var n=this;this.updateSymbol(e,o);var i=.15*this.iCol;this.node.setPosition(this.node.position.x,450+this.iRow*D),u(this.node).delay(i).to(.25,{position:r(this.node.position.x,this.stopPosY-35)},{easing:"cubicIn"}).call((function(){t.playEndTag[n.iCol]||(t.playEndTag[n.iCol]=!0)})).to(.05,{position:r(this.node.position.x,this.stopPosY+20)},{easing:"cubicIn"}).to(.03,{position:r(this.node.position.x,this.stopPosY)},{easing:"cubicIn"}).start()},c.initRun=function(e,o){this._runType=e,this._rounds=4,this._specialIndex=o,this.curRspeed=-75,t.playEndTag[this.iCol]=!1},c.doStartRun=function(){var e=s(a().mark((function e(){return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return gts.Debug.Log("=doStartRun=tween(this.node)="+h.now()+"==this.iCol=="+this.iCol),e.next=3,this.doStartMove();case 3:return e.next=5,this.doRunning();case 5:return e.next=7,this.doStopping();case 7:return e.abrupt("return",this.doEnd());case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.quickStop=function(){if(this.totalY>this.cSpaceH+35){this.curSpeed=j,this.curAspeed=500;var e=(this.totalY-35)%this.cSpaceH;this.totalY=this.cSpaceH+35+e,this.spaceH=this.cSpaceH}},c.doStartMove=function(){var e=this;return this.status=C.NONE,new Promise((function(t,o){u(e.node).to(.1,{position:r(e.node.getPosition().x,e.node.getPosition().y+35)},{easing:"cubicOut"}).call((function(){if(e.Node_symbol.scale=r(1,1,1),e.node.getComponent(p).priority=e.itemIndex,e.isSpecialRunning=!1,N.instance.isFreeSpecial){return e._rounds=e._rounds,e.curAspeed=0,e.curSpeed=0,e.totalY=e.cSpaceH*(e._rounds+18),e.spaceH=e.cSpaceH,e.lastSpeed=L,void t()}var o=N.instance.freeStatus==C.NONE&&N.instance.isQuickStop;if(e._rounds=o?1:e._rounds,e.curAspeed=o?500:0,e.curSpeed=o?j:0,e._runType==f.SPECIAL){var n=[12,24,36,58][e._specialIndex],i=e._rounds;e._rounds=i+n,e.totalY=e.cSpaceH*n+35,e.spaceH=e.cSpaceH*(n-4),e.specialSpaceH=e.totalY,e.lastSpeed=200,e.curRspeed=-25}else{e.totalY=e.cSpaceH*(e._rounds+0)+35,e.spaceH=e.cSpaceH,e.lastSpeed=L}t()})).start()}))},c.doRunning=function(){var e=this;return this.status=C.RUNNING,new Promise((function(t,o){e.schedule((function o(n){e.curSpeed<j&&(e.curAspeed+=50,e.curSpeed+=e.curAspeed);var i=.01667*e.curSpeed;e.node.setPosition(e.node.position.x,e.node.position.y-i),e.node.getPosition().y<=e.minPosY&&(e.node.setPosition(e.node.position.x,e.node.position.y+e.cSpaceH),e.updateSymbol()),e.totalY-=i,N.instance.isFreeSpecial&&2==e.iCol&&(e.node.scale=r(1.05,1.05,1.05)),e.totalY<e.spaceH&&(e.unschedule(o),t())}))}))},c.doStopping=function(){var e=this;return this.status=C.STOPPING,new Promise((function(t,o){e.schedule((function o(n){e._runType!=f.SPECIAL?(e.curAspeed=e.curAspeed<e.curRspeed?e.curAspeed:e.curAspeed+e.curRspeed,e.curSpeed+=e.curAspeed,e.curSpeed<e.lastSpeed&&(e.curSpeed=e.lastSpeed)):N.instance.curSpecialCol==e.iCol&&e.totalY<3*e.cSpaceH&&(e.curSpeed-=40,e.curSpeed<300&&(e.curSpeed=300));var i=.01667*e.curSpeed;if(e.node.setPosition(e.node.position.x,e.node.position.y-i),e.totalY-=i,e.totalY<=0)e.node.setPosition(e.node.position.x,e.node.position.y),e.updateSymbol(e.symbolIndex,e.isGold),e.unschedule(o),N.instance.specialStartCol>0&&e.iCol>=N.instance.specialStartCol-1&&!e.isSpecialRunning&&e.iCol<4&&(e.scheduleOnce((function(){_.instance.emit(x.onSetMask,e.iCol+1,e.node.getPosition().x+189)}),.5),e.isSpecialRunning=!1,e.node.scale=r(1,1,1),e.updateZIndex()),t();else if(e.node.getPosition().y<=e.minPosY)if(e.node.setPosition(e.node.position.x,e.node.position.y+e.cSpaceH),0==e.iRow)e.updateSymbol(null,!0);else{var s=N.instance.betResult.Res[0].AllPosMsg[e.iCol],a=s&&s[e.iRow-1]?s[e.iRow-1]:null;e.updateSymbol(a?a.Sym:null,a?a.IsGold:null)}}))}))},c.doEnd=function(){var e=this;return this.status=C.END,new Promise((function(o,n){var i=e._runType==f.SPECIAL?.2:0;t.playEndTag[e.iCol]||(t.playEndTag[e.iCol]=!0),gts.Debug.Log("=doEnd="+h.now()+"==this.iCol=="+e.iCol),u(e.node).to(.1,{position:r(e.node.position.x,e.stopPosY+35)},{easing:"cubicOut"}).to(.05,{position:r(e.node.position.x,e.stopPosY)},{easing:"cubicIn"}).to(i,{scale:r(1,1,1)}).call((function(){switch(e.isSpecialRunning=!1,e.updateZIndex(),e.symbolIndex){case b.SCATTER:e.node.getComponent(p).priority=e.node.getComponent(p).priority+2e4;var t=e.Node_icon.getComponent(m.Skeleton);t.setAnimation(0,"scatter_intro",!1),t.addAnimation(0,"scatter_idle",!0),R.instance.playSound(I.symScatter,!1)}R.instance.playSound(I.spinActiveLoop,!1),o()})).start()}))},c.playWinSound=function(){var e={9:I.erTiao,8:I.sanTong,7:I.erTong,6:I.wuTiao,5:I.wuTong,4:I.baWan,3:I.baiBan,2:I.hongZhong};R.instance.playSound(e[""+this.symbolIndex])},c.doClear=function(){var e=this;return this.status=C.CLEAR,new Promise((function(o,n){e.node.getComponent(p).priority=e.node.getComponent(p).priority+1e4,e.updateSymbol(e.symbolIndex,e.isGold,!0),t.playEndTag[e.iCol]=!1,_.instance.emit(x.onAddEffect,e.iRow,e.iCol,e.node.position),e.scheduleOnce((function(){e.playWinSound();var t=e.Node_icon.getComponent(m.Skeleton);t&&"icon_hu"!=t.skeletonData.name?(t.setAnimation(0,R.instance.getSymbolAniName(e.symbolIndex,e.isGold,!1),!1),t.setCompleteListener((function(){t.setCompleteListener(null),e.isGold?(R.instance.playSound(I.symWildSpawn,!1),e.updateSymbol(b.WILD,!1,!0)):(e.Node_symbol.getComponent(y).opacity=0,e.isClear=!0),o()}))):o()}),.2)}))},c.doReset=function(e){this.isReset=!0,this.node.setPosition(this.node.position.x,this.startY+D*e)},c.doDrop=function(e,o){var n=this;return this.status=C.DROP,new Promise((function(i,s){n.iRow=e;var a=10*(5-n.iCol)+(9-n.iRow);n.itemIndex=a,n.curIndex=a;var c=n.startY+D*e;if(n.stopPosY=c,n.node.name="Node_symbolItem_"+n.iCol+"_"+n.iRow,n.isClear=!1,n.node.getComponent(p).priority=a,c<n.node.getPosition().y){n.Node_symbol.getComponent(y).opacity=255,n.updateSymbol(o?o.Sym:null,o?o.IsGold:null);var d=Math.abs(c-n.node.getPosition().y)/1e3;u(n.node).to(d,{position:r(n.node.position.x,c)},{easing:"cubicIn"}).call((function(){t.playEndTag[n.iCol]||(t.playEndTag[n.iCol]=!0)})).to(.05,{position:r(n.node.position.x,c+20)},{easing:"cubicIn"}).to(.05,{position:r(n.node.position.x,c)},{easing:"cubicIn"}).call((function(){if(n.isReset)switch(n.symbolIndex){case b.SCATTER:var e=n.Node_icon.getComponent(m.Skeleton);e.setAnimation(0,"scatter_intro",!1),e.addAnimation(0,"scatter_idle",!0),R.instance.playSound(I.symScatter,!1)}n.isReset=!1,i()})).start()}else i()}))},c.updateSymbol=function(e,t,o){var n=this;if(void 0===t&&(t=null),void 0===o&&(o=!1),this.symbolIndex=e||Math.floor(9*Math.random()+1),this.isGold=null!=t?t:0!=this.iCol&&4!=this.iCol&&Math.random()>.9,this.status==C.RUNNING&&N.instance.freeStatus!=C.NONE&&2==this.iCol&&(this.isGold=!0),this.symbolIndex>=b.WILD&&(this.isGold=!1),o=!(this.symbolIndex<b.WILD)||o){this.Node_symbol.getComponent(S).spriteFrame=null;var i=this.Node_icon.getComponent(S);i&&i.destroy(),this.scheduleOnce((function(){var e=R.instance.getItemSymbolSpine(n.symbolIndex,n.isGold),t=n.Node_icon.getComponent(m.Skeleton);t||(t=n.Node_icon.addComponent(m.Skeleton)),t.premultipliedAlpha=!1,t.skeletonData=e;var o=R.instance.getSymbolAniName(n.symbolIndex,n.isGold);t.setAnimation(0,o,!0)})),this.updateZIndex(1e4)}else{var s=this.Node_icon.getComponent(m.Skeleton);s&&s.destroy();var a=this.status==C.RUNNING;N.instance.freeStatus!=C.NONE&&2==this.iCol&&(a=!1),this.Node_symbol.getComponent(S).spriteFrame=R.instance.getItemSymbolBox(a,this.isGold),a?(this.Node_symbol.getComponent(p).width=189,this.Node_symbol.getComponent(p).height=300):(this.Node_symbol.getComponent(p).width=189,this.Node_symbol.getComponent(p).height=224),this.scheduleOnce((function(){var e=R.instance.getItemSymbolIcon(n.symbolIndex,a),t=n.Node_icon.getComponent(S);t||(t=n.Node_icon.addComponent(S)),a?(t.sizeMode=S.SizeMode.CUSTOM,n.Node_icon.getComponent(p).width=189,n.Node_icon.getComponent(p).height=224):t.sizeMode=S.SizeMode.TRIMMED,t.spriteFrame=e})),this.updateZIndex()}},c.updateZIndex=function(e){void 0===e&&(e=0),this.curIndex=10*(5-this.iCol)+(9-this.iRow),e>0&&(this.curIndex+=e),this.node.getComponent(p).priority=this.isSpecialRunning||this.status==C.RUNNING&&N.instance.isFreeSpecial&&2==this.iCol?2e4+this.curIndex:this.curIndex},c.onSymbolClick=function(){if(!N.instance.isAuto&&N.instance.gameStatus==C.NONE&&0!=this.iRow&&this.iRow!=this.maxRow-1){R.instance.playOneShot(I.slider_effect);var e=this.iCol<2?this.node.getPosition().x+85:this.iCol>2?this.node.getPosition().x-85:this.node.getPosition().x,t=r(e,this.node.getPosition().y);_.instance.emit(x.onSymbolClick,this.symbolIndex,this.Node_symbol,t)}},c.setZIndex=function(e){this.curIndex=10*(5-this.iCol)+(9-this.iRow),e>0&&(this.curIndex+=e),this.node.getComponent(p).priority=this.curIndex},c.doScatterEffect=function(){var e=this.Node_icon.getComponent(m.Skeleton);e.setAnimation(0,"scatter_intro",!1),e.addAnimation(0,"scatter_idle",!0)},t}(g)).playEndTag=[!1,!1,!1,!1,!1],T=t((Y=H).prototype,"Node_symbol",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=t(Y.prototype,"Node_icon",[A],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Y))||E)||E));c._RF.pop()}}}));

System.register("chunks:///_virtual/Mjhl_winTip.ts",["./rollupPluginModLoBabelHelpers.js","cc","./MjhlDef.ts","./LocalizedImage.ts","./MjhlUtils.ts"],(function(e){var t,n,i,o,a,l,r,s,c,u,p,f,h,m;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,o=e.assertThisInitialized},function(e){a=e.cclegacy,l=e._decorator,r=e.Sprite,s=e.Label,c=e.sp,u=e.tween,p=e.Component},function(e){f=e.Constant},function(e){h=e.LocalizedImage},function(e){m=e.MjhlUtils}],execute:function(){var _,d,b,y,g,w,L,v;a._RF.push({},"55b1euHSyRNloGd44JAl0aO","Mjhl_winTip",void 0);var S=l.ccclass,j=l.property,M=l.menu;l.inspector,e("default",(_=S("UiWinTip"),d=M("game/MjhlGame/Mjhl_winTip"),b=j(r),y=j(s),_(g=d((L=t((w=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),l=0;l<n;l++)a[l]=arguments[l];return t=e.call.apply(e,[this].concat(a))||this,i(t,"Sprite_title",L,o(t)),i(t,"Label_win",v,o(t)),t}n(t,e);var a=t.prototype;return a.start=function(){},a.onEnable=function(){},a.onDisable=function(){},a.doShow=function(e,t){var n=this;if(void 0===t&&(t=!1),this.Sprite_title.getComponent(h).key=t?"totalwin_info":"win_info",t)this.Label_win.string=m.instance.numberFormat(e/f.moneyRatio,2);else{this.node.getChildByName("Node_effect_base").getComponent(c.Skeleton).setAnimation(0,"animation",!1),this.node.getChildByName("Node_effect_coin").getComponent(c.Skeleton).setAnimation(0,"idle",!1);var i=e,o=e/10,a=0;u(this.Label_win.node).repeat(11,u(this.Label_win.node).delay(.05).call((function(){(a+=o)>i&&(a=i),n.Label_win.string=m.instance.numberFormat(a/f.moneyRatio,2)}))).start()}},t}(p)).prototype,"Sprite_title",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=t(w.prototype,"Label_win",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=w))||g)||g));a._RF.pop()}}}));

System.register("chunks:///_virtual/MjhlGame",["./MjhlGameView.ts","./Mjhl_ScrollView.ts","./Mjhl_btnEffect.ts","./Mjhl_helpTip.ts","./Mjhl_history.ts","./Mjhl_historyItem.ts","./Mjhl_rank.ts","./Mjhl_rankItem.ts","./Mjhl_rate.ts","./Mjhl_setAuto.ts","./Mjhl_setBase.ts","./Mjhl_symbol.ts","./Mjhl_symbolEffectRoot.ts","./Mjhl_symbolInfo.ts","./Mjhl_symbolItem.ts","./Mjhl_winTip.ts","./ui_help.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MjhlGameView.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameDef.ts","./ConfigManager.ts","./EventManager.ts","./NetManager.ts","./MjhlDef.ts","./ViewManager.ts","./Mjhl_symbol.ts","./Mjhl_winTip.ts","./Mjhl_rate.ts","./Common.ts","./AudioManager.ts","./LocalizedImage.ts","./MjhlUtils.ts","./MjhlCtrl.ts","./MjhlModel.ts"],(function(e){var t,n,i,a,o,s,r,c,l,u,d,_,p,h,b,m,f,g,B,N,y,w,S,v,C,T,L,A,F,k,M,W,E,I,x,z,O,R,j,G,P,H;return{setters:[function(e){t=e.inheritsLoose,n=e.applyDecoratedDescriptor,i=e.initializerDefineProperty,a=e.assertThisInitialized,o=e.asyncToGenerator,s=e.regeneratorRuntime,r=e.createForOfIteratorHelperLoose},function(e){c=e.cclegacy,l=e._decorator,u=e.Node,d=e.sp,_=e.Button,p=e.Label,h=e.Sprite,b=e.SpriteFrame,m=e.view,f=e.tween,g=e.v3,B=e.instantiate,N=e.UIOpacity,y=e.UITransform,w=e.color,S=e.Tween},function(e){v=e.GameDef},function(e){C=e.default},function(e){T=e.default},function(e){L=e.default},function(e){A=e.eEvent,F=e.eRunStatus,k=e.eSound,M=e.eSymbol,W=e.eProto},function(e){E=e.default},function(e){I=e.default},function(e){x=e.default},function(e){z=e.default},function(e){O=e.Common},function(e){R=e.default},function(e){j=e.LocalizedImage},function(e){G=e.MjhlUtils},function(e){P=e.MjhlCtrl},function(e){H=e.MjhlModel}],execute:function(){var D,V,q,U,Q,Z,K,Y,J,X,$,ee,te,ne,ie,ae,oe,se,re,ce,le,ue,de,_e,pe,he,be,me,fe,ge,Be,Ne,ye,we,Se,ve,Ce,Te,Le,Ae,Fe,ke,Me,We,Ee,Ie,xe,ze,Oe,Re,je,Ge,Pe,He,De,Ve,qe,Ue,Qe,Ze,Ke,Ye,Je,Xe;c._RF.push({},"558bcSIW2pBbKolVmj9x7pg","MjhlGameView",void 0);var $e=l.ccclass,et=l.property,tt=l.menu;l.inspector,e("default",(D=$e("MjhlGameView"),V=tt("game/MjhlGame/MjhlGameView"),q=et(u),U=et(u),Q=et(u),Z=et(u),K=et(u),Y=et(d.Skeleton),J=et(I),X=et(u),$=et(u),ee=et(_),te=et(_),ne=et(p),ie=et(_),ae=et(_),oe=et(d.Skeleton),se=et(u),re=et(p),ce=et(p),le=et(p),ue=et(u),de=et(u),_e=et(p),pe=et(z),he=et(u),be=et(u),me=et(h),fe=et(h),ge=et(b),Be=et(b),Ne=et(u),D(ye=V((we=function(e){function n(){for(var t,n=arguments.length,o=new Array(n),s=0;s<n;s++)o[s]=arguments[s];return t=e.call.apply(e,[this].concat(o))||this,i(t,"mask",Se,a(t)),i(t,"Node_colEffect",ve,a(t)),i(t,"Node_freeCool",Ce,a(t)),i(t,"Node_helpTip",Te,a(t)),i(t,"Node_winTip",Le,a(t)),i(t,"Node_tipBg",Ae,a(t)),i(t,"Mjhl_symbol",Fe,a(t)),i(t,"Node_action",ke,a(t)),i(t,"Node_menu",Me,a(t)),i(t,"Button_auto",We,a(t)),i(t,"Button_setBase",Ee,a(t)),i(t,"Label_autoTimes",Ie,a(t)),i(t,"Button_run",xe,a(t)),i(t,"Button_menu",ze,a(t)),i(t,"Skeleton_run",Oe,a(t)),i(t,"Node_tip",Re,a(t)),i(t,"Label_gold",je,a(t)),i(t,"Label_bet",Ge,a(t)),i(t,"Label_win",Pe,a(t)),i(t,"Node_free",He,a(t)),i(t,"Node_bigWin",De,a(t)),i(t,"Label_totalWin",Ve,a(t)),i(t,"Mjhl_rate",qe,a(t)),i(t,"Sprite_bg",Ue,a(t)),i(t,"Sprite_freeBg",Qe,a(t)),i(t,"Sprite_bg_up",Ze,a(t)),i(t,"Sprite_bg_down",Ke,a(t)),i(t,"SpriteFrame_bg_up",Ye,a(t)),i(t,"SpriteFrame_bg_down",Je,a(t)),i(t,"Node_bg",Xe,a(t)),t.arrBtnStatus=[],t.isStopBigWin=!1,t}t(n,e);var c=n.prototype;return c.onLoad=function(){this.onClickHTMLStartBtn=this.onClickHTMLStartBtn.bind(this),window.addEventListener("customEventFromHTML",this.onClickHTMLStartBtn)},c.onClickHTMLStartBtn=function(){if(window.removeEventListener("customEventFromHTML",this.onClickHTMLStartBtn),e.prototype.onLoad.call(this,P.instance),this.initUIView(),L.instance.sendOnlineData(C.instance.protocolHall.getWallet,{}),!G.instance.isChangeOrientation()){var t=m.getFrameSize();t.width/t.height>750/1334&&(this.Node_action.setPosition(this.Node_action.position.x,this.Node_action.position.y+15),this.Node_menu.setPosition(this.Node_menu.position.x,this.Node_menu.position.y+15),this.Button_menu.node.setPosition(this.Button_menu.node.position.x,this.Button_menu.node.position.y+15),this.Button_run.node.setPosition(this.Button_run.node.position.x,this.Button_run.node.position.y+15))}G.instance.playBgMusic(),H.instance.totalFreeTimes>0&&this.showFree(!0,!0)},c.onEnable=function(){var t=this;e.prototype.onEnable.call(this),T.instance.on(C.instance.eventTransform.disConnect,this.disconnect,this),T.instance.on(A.onRunStop,this.doRunEnd,this),T.instance.on(A.updateBaseBet,this.updateBaseBet,this),T.instance.on(A.onSetAuto,(function(e){e&&e>0&&(H.instance.autoTimes=e,H.instance.isAuto=!0,t.Button_run.interactable=!0,t.Button_run.node.emit("pauseEffect"),t.Skeleton_run.setAnimation(0,"auto",!0),H.instance.gameStatus==F.NONE&&t.scheduleOnce((function(){P.instance.reqBet()}),.5)),t.Button_auto.interactable=!H.instance.isAuto,t.Label_autoTimes.node.active=H.instance.isAuto,G.instance.updateLabel(t.Label_autoTimes,H.instance.autoTimes)}),this),T.instance.on(A.onAutoClose,(function(e){H.instance.autoTimes=0,H.instance.isAuto=!1,t.Skeleton_run.setCompleteListener(null),t.Skeleton_run.setAnimation(0,"idle",!0),t.Button_run.interactable=!0,t.Button_run.node.emit("resumeEffect"),t.Button_auto.interactable=!0,t.Label_autoTimes.node.active=!1,G.instance.updateLabel(t.Label_autoTimes,H.instance.autoTimes)}),this)},c.onDisable=function(){e.prototype.onDisable.call(this),T.instance.off(C.instance.eventTransform.disConnect,this.disconnect,this),T.instance.off(A.onRunStop,this.doRunEnd,this),T.instance.off(A.updateBaseBet,this.updateBaseBet,this),T.instance.off(A.onSetAuto),T.instance.off(A.onAutoClose),H.instance.clearGameData()},c.onDestroy=function(){e.prototype.onDestroy.call(this)},c.start=function(){},c.disconnect=function(){O.showNetTips()},c.onReconnectSuccess=function(){P.instance.isReqBet&&P.instance.reqBet()},c.updateBaseBet=function(){var e=this;H.instance._curIndex_baseBet>=H.instance.baseBetList.length?(H.instance._curIndex_baseBet=H.instance.baseBetList.length-1,this.Node_action.getChildByName("Button_add").getComponent(_).interactable=!1,this.Node_action.getChildByName("Button_redus").getComponent(_).interactable=!0):H.instance._curIndex_baseBet>0?(this.Node_action.getChildByName("Button_redus").getComponent(_).interactable=!0,this.Node_action.getChildByName("Button_add").getComponent(_).interactable=!0):H.instance._curIndex_baseBet<=0&&(H.instance._curIndex_baseBet=0,this.Node_action.getChildByName("Button_redus").getComponent(_).interactable=!1,this.Node_action.getChildByName("Button_add").getComponent(_).interactable=!0),H.instance.curBet=H.instance.baseBetList[H.instance._curIndex_baseBet],f(this.Label_bet.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){e.Label_bet.string=G.instance.moneyFormat(H.instance.curBet)})).to(.1,{scale:g(1,1,1)}).start()},c.initUIView=function(){this.Mjhl_symbol.initSymbol(),this.initView(),this.Label_bet.string=G.instance.moneyFormat(H.instance.curBet),this.Label_win.string=G.instance.moneyFormat(0),this.updateGold()},c.onBtnClick=function(e){var t=this;switch(e.target.name){case"Node_bigWinEffect":this.isStopBigWin=!0;break;case"Button_menu":this.Node_action.active=!this.Node_action.active,this.Node_menu.active=!this.Node_menu.active;break;case"Button_return":P.instance.reqExit(),T.instance.emit(A.onLoadHall);break;case"Button_history":O.loadPopBuddle("prefab/Node_history",G.instance.bundle,(function(){}),(function(e){var t=B(e);E.instance.popNodeView(t,!0)}),!0);break;case"Button_rank":O.loadPopBuddle("prefab/Node_rank",G.instance.bundle,(function(){}),(function(e){var t=B(e);E.instance.popNodeView(t,!0)}),!0);break;case"Button_help":O.loadPopBuddle("prefab/Node_help",G.instance.bundle,(function(){}),(function(e){var t=B(e);E.instance.popNodeView(t,!0)}),!1);break;case"Button_auto":H.instance.isAuto?this.Button_auto.interactable=!0:O.loadPopBuddle("prefab/Node_setAuto",G.instance.bundle,(function(){}),(function(e){var t=B(e);E.instance.popNodeView(t,!0)}),!0);break;case"Button_fast":H.instance.isQuickStop=!H.instance.isQuickStop;var n=e.target.getChildByName("btn_turbo").getComponent(d.Skeleton);H.instance.isQuickStop?(n.setAnimation(0,"intro_on",!1),n.addAnimation(0,"on",!0)):n.setAnimation(0,"off",!0);break;case"Button_redus":H.instance._curIndex_baseBet--,H.instance._curIndex_baseBet<=0?(H.instance._curIndex_baseBet=0,this.Node_action.getChildByName("Button_redus").getComponent(_).interactable=!1):this.Node_action.getChildByName("Button_add").getComponent(_).interactable=!0,H.instance.curBet=H.instance.baseBetList[H.instance._curIndex_baseBet],f(this.Label_bet.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){t.Label_bet.string=G.instance.moneyFormat(H.instance.curBet)})).to(.1,{scale:g(1,1,1)}).start();break;case"Button_add":H.instance._curIndex_baseBet++,H.instance._curIndex_baseBet>=H.instance.baseBetList.length?(H.instance._curIndex_baseBet=H.instance.baseBetList.length-1,this.Node_action.getChildByName("Button_add").getComponent(_).interactable=!1):this.Node_action.getChildByName("Button_redus").getComponent(_).interactable=!0,H.instance.curBet=H.instance.baseBetList[H.instance._curIndex_baseBet],f(this.Label_bet.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){t.Label_bet.string=G.instance.moneyFormat(H.instance.curBet)})).to(.1,{scale:g(1,1,1)}).start();break;case"Button_run":if(H.instance.isAuto){H.instance.isAuto=!1,H.instance.autoTimes=0,this.Label_autoTimes.node.active=H.instance.isAuto,G.instance.updateLabel(this.Label_autoTimes,H.instance.autoTimes),(H.instance.gameStatus=F.NONE)?(this.Skeleton_run.setAnimation(0,"idle",!0),this.Button_run.node.emit("resumeEffect"),this.Button_auto.interactable=!0):(this.Skeleton_run.addAnimation(0,"stop",!0),this.Button_run.interactable=!1,this.Button_run.node.emit("pauseEffect"),this.Button_auto.interactable=!1);break}if(P.instance.isReqBet)break;H.instance.gameStatus==F.NONE&&P.instance.reqBet();break;case"Button_setBase":O.loadPopBuddle("prefab/Node_setBase",G.instance.bundle,(function(){}),(function(e){var t=B(e);E.instance.popNodeView(t,!0)}),!0);break;case"Button_enter":this.doEnterFree();break;case"Button_exit":this.showFree(!1)}},c.showFreeColEffect=function(e){var t=this;if(void 0===e&&(e=!0),!e)return G.instance.stopSound(k.fslong),void f(this.Node_freeCool.getComponent(N)).to(.2,{opacity:0}).call((function(){t.Node_freeCool.active=!1})).start();G.instance.playSound(k.fslong,!0),this.Node_freeCool.active=!0,this.Node_freeCool.getComponent(y).priority=2e4;var n=this.Node_freeCool.getChildByName("Node_colEffect").getComponent(d.Skeleton);n.setAnimation(0,"free_intro",!1),n.setCompleteListener((function(){n.setCompleteListener(null),n.setAnimation(0,"free_idle",!0),t.Node_freeCool.getComponent(y).priority=2e3})),this.Node_freeCool.getComponent(N).opacity=0,f(this.Node_freeCool.getComponent(N)).to(.1,{opacity:255}).start(),this.scheduleOnce((function(){t.Mjhl_symbol.showFreeCoolEffect()}),.5)},c.doStartRun=function(){this.Node_helpTip.active=!0,this.Node_winTip.active=!1,this.isStopBigWin=!1,T.instance.emit(A.updateWin,0),this.Mjhl_symbol.doStartRun();var e=H.instance.freeStatus==F.NONE?"free_normal":"normal";if(this.Node_tipBg.setAnimation(0,e+"_idle",!0),G.instance.playOneShot(k.spinBtn),H.instance.freeStatus==F.NONE)if(this.Label_win.string=G.instance.moneyFormat(0),H.instance.isAuto)H.instance.autoTimes>0&&(H.instance.autoTimes--,G.instance.updateLabel(this.Label_autoTimes,H.instance.autoTimes));else{H.instance.gameStatus=F.RUNNING,"spin"!=this.Skeleton_run.animation&&this.Skeleton_run.setAnimation(0,"spin",!0),this.arrBtnStatus=[];var t=this.Node_action.getChildByName("Button_redus").getComponent(_);this.arrBtnStatus.push({btn:t,enable:t.interactable}),t.interactable=!1,t=this.Node_action.getChildByName("Button_add").getComponent(_),this.arrBtnStatus.push({btn:t,enable:t.interactable}),t.interactable=!1}else{var n=this.Node_free.getChildByName("Node_freeInfo"),i=n.getChildByName("Label_freeTimes");if(H.instance.totalFreeTimes>0)i.getComponent(p).string=""+H.instance.totalFreeTimes,i.active=!0;else n.getChildByName("Sprite_title").getComponent(j).key="last_fs",i.active=!1;H.instance.isFreeSpecial&&(H.instance.isFreeSpecial=!0,this.showFreeColEffect())}this.Label_gold.color=w(255,255,255,255),this.Label_bet.color=w(255,255,255,255),this.Label_win.color=w(255,255,255,255)},c.doAwait=function(e){var t=this;return new Promise((function(n,i){t.scheduleOnce((function(){n()}),e)}))},c.doRunEnd=function(){var e=o(s().mark((function e(){var t,n,i,a,o,c=this;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return H.instance.gameStatus=F.CLEAR,this.Button_run.interactable=!1,this.Node_colEffect.active&&(G.instance.stopSound(k.fastspinStart),f(this.Node_colEffect.getComponent(N)).to(.2,{opacity:0}).call((function(){c.Node_colEffect.active=!1})).start()),this.mask.active&&f(this.mask.getComponent(N)).to(.2,{opacity:0}).call((function(){c.mask.active=!1,c.mask.getComponent(y).width=0})).start(),H.instance.isFreeSpecial&&(H.instance.isFreeSpecial=!1,this.showFreeColEffect(!1)),t=H.instance.freeStatus!=F.NONE?H.instance.totalFreeWin:0,H.instance.curTotalWin=0,e.next=9,this.doAwait(.5);case 9:n=H.instance.betResult.Res,i=s().mark((function e(){var i,o,r,l;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((i=n[a]).RewardMoney>0)){e.next=17;break}return o=n[a+1],c.Node_helpTip.active=!1,c.Node_winTip.active=!0,c.Node_winTip.getComponent(x).doShow(i.RewardMoney),G.instance.playSound(k.prizeSmallwin),c.showTipBgAni(i.RewardMoney),H.instance.curTotalWin+=i.RewardMoney,r=t+i.RewardMoney,l=i.RewardMoney/10,f(c.Label_win.node).repeat(11,f(c.Label_win.node).delay(.05).call((function(){(t+=l)>r&&(t=r),c.Label_win.string=G.instance.moneyFormat(t)}))).start(),T.instance.emit(A.updateWin,i.RewardMoney),G.instance.playOneShot(k.symShrink),e.next=17,c.Mjhl_symbol.doEnd(i.RewardPos,o.AllPosMsg,a+1);case 17:case"end":return e.stop()}}),e)})),a=0;case 12:if(!(a<n.length)){e.next=17;break}return e.delegateYield(i(),"t0",14);case 14:a++,e.next=12;break;case 17:if(this.Mjhl_symbol.setScatterIndex(!1),this.mask.active&&f(this.mask.getComponent(N)).to(.2,{opacity:0}).call((function(){c.mask.active=!1,c.mask.getComponent(y).width=0})).start(),o=.25,!(H.instance.curTotalWin>0)){e.next=29;break}return e.next=23,this.doShowBigWin(H.instance.curTotalWin);case 23:this.Node_winTip.getComponent(x).doShow(H.instance.curTotalWin,!0),G.instance.playSound(k.prizeSmallwinTotal),this.showTipBgAni(H.instance.curTotalWin),o=.5,H.instance.endBalance>0&&(H.instance.curBalance=H.instance.endBalance,H.instance.endBalance=0,this.updateGold());case 29:if(H.instance.isAuto=H.instance.autoTimes>0,H.instance.isAuto||(this.Skeleton_run.setAnimation(0,"idle",!0),this.Button_auto.interactable=!0,this.Label_autoTimes.node.active=!1,G.instance.updateLabel(this.Label_autoTimes,H.instance.autoTimes)),this.Button_run.interactable=!0,G.instance.setBtnBetGray(this.Button_run.node.getChildByName("Background"),!1),H.instance.gameStatus=F.NONE,this.scheduleOnce((function(){if(c.arrBtnStatus.length>0)for(var e,t=r(c.arrBtnStatus);!(e=t()).done;){var n=e.value;n.btn.interactable=n.enable}})),H.instance.freeStatus==F.NONE){e.next=40;break}H.instance.totalFreeWin+=H.instance.curTotalWin,this.scheduleOnce((function(){c.Node_bigWin.active=!1,H.instance.totalFreeTimes>0?(H.instance.curTotalWin>0&&(H.instance.isFreeSpecial=!0),P.instance.reqBet()):(H.instance.freeStatus=F.END,c.doEndFree())}),o),e.next=50;break;case 40:if(!(H.instance.totalFreeTimes>0)){e.next=49;break}return this.Button_run.interactable=!1,H.instance.isFreeSpecial=!0,this.Mjhl_symbol.doScatterEffect(),e.next=46,this.doAwait(1);case 46:this.showFree(!0),e.next=50;break;case 49:H.instance.isAuto&&this.scheduleOnce((function(){P.instance.reqBet()}),o);case 50:this.scheduleOnce((function(){H.instance.isAuto||H.instance.freeStatus==F.RUNNING?(c.Label_gold.color=w(255,255,255,255),c.Label_bet.color=w(255,255,255,255),c.Label_win.color=w(255,255,255,255)):(c.Label_gold.color=w(150,220,255,255),c.Label_bet.color=w(150,220,255,255),c.Label_win.color=w(150,220,255,255))}),H.instance.curTotalWin>0?.25:0);case 51:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),c.showTipBgAni=function(e){void 0===e&&(e=0);var t=e/H.instance.curBet;if(t<5){var n=H.instance.freeStatus==F.NONE?"free_normal":"normal";this.Node_tipBg.setAnimation(0,n+"_win",!1),this.Node_tipBg.addAnimation(0,n+"_idle",!0)}else{var i=t<60?"bigwin1":"bigwin2",a=H.instance.freeStatus==F.NONE?"intro1":"intro2";this.Node_tipBg.setAnimation(0,i+"_"+a,!1),this.Node_tipBg.addAnimation(0,i+"_win",!1),this.Node_tipBg.addAnimation(0,i+"_idle",!0)}},c.bigwinTitleAni=function(e){this.Node_bigWin.getChildByName("Node_title").children.forEach((function(t){t.name==e?t.active=!0:t.active=!1}))},c.doShowBigWin=function(e,t){var n=this;return void 0===t&&(t=.5),new Promise((function(i,a){var o=e/H.instance.curBet;e<=1||o<20?i():n.scheduleOnce((function(){n.Node_bigWin.parent=n.node,n.Node_bigWin.getComponent(y).priority=52,n.Node_bigWin.active=!0,n.Node_bigWin.scale=g(.5,.5,1);var t=n.Node_bigWin.getChildByName("Node_bigWinEffect").getComponent(d.Skeleton),a=o<35?0:o<50?1:2,s=0,r=["bigwin","megawin","superwin"],c=t.setAnimation(0,""+["bigwin_win","megawin_win","superwin_win"][a],!1);t.addAnimation(0,["bigwin_idle","megawin_idle","superwin_idle"][a],!0),n.bigwinTitleAni(r[s]),G.instance.playSound(k.bgmBigwinMain),f(n.Node_bigWin).to(.1,{scale:g(1.2,1.2,1)},{easing:"quadOut"}).to(.05,{scale:g(1,1,1)},{easing:"quadIn"}).call((function(){var o=c.animation.duration,l=.05,u=o/l,d=1==a?.42*o/l:2==a?.275*o/l:o/l,_=35*H.instance.curBet,p=50*H.instance.curBet,h=a>1,b=a>0?Math.floor(_/d):e/u,m=0;f(n.Label_totalWin.node).repeatForever(f(n.Label_totalWin.node).delay(l).call((function(){var o=function(o){void 0===o&&(o=1);var s=["bigwin_idle","megawin_idle","superwin_idle"];n.isStopBigWin&&t.animation!=s[a]&&(n.bigwinTitleAni(r[a]),t.setAnimation(0,s[a],!0),o=2),G.instance.stopSound(k.bgmBigwinMain),G.instance.playSound(k.bgmBigwinEnd),S.stopAllByTarget(n.Node_bigWin),S.stopAllByTarget(n.Label_totalWin.node),m=e,f(n.Node_bigWin).delay(o).call((function(){n.Node_bigWin.active=!1,n.isStopBigWin=!1,G.instance.stopSound(k.bgmBigwinEnd),i()})).start(),n.Label_totalWin.string=G.instance.moneyFormat(m)};m<e&&((m+=b)>_&&h&&(s++,n.bigwinTitleAni(r[s]),h=!1,b=Math.floor(17*H.instance.curBet/d)),m>_&&s!=a&&(s=1,n.bigwinTitleAni(r[s])),m>p&&s!=a&&(s=2,n.bigwinTitleAni(r[s])),m>=e&&(m=e,o(H.instance.isAuto||H.instance.freeStatus==F.NONE?2:4)),n.Label_totalWin.string=G.instance.moneyFormat(m)),n.isStopBigWin&&o()}))).start()})).start()}),t)}))},c.showFree=function(e,t){var n=this;if(void 0===e&&(e=!0),void 0===t&&(t=!1),!e)return f(this.Node_free.getComponent(N)).to(.2,{opacity:0}).call((function(){n.Node_free.active=!1,n.Node_free.getChildByName("Node_enter").active=!1,n.Node_free.getChildByName("Node_end").active=!1,n.Node_free.getChildByName("Node_freeInfo").active=!1,G.instance.playBgMusic(),H.instance.isAuto&&n.scheduleOnce((function(){P.instance.reqBet()}),.25)})).start(),this.Node_helpTip.active=!1,this.Node_winTip.active=!0,this.Node_winTip.getComponent(x).doShow(H.instance.totalFreeWin,!0),this.Label_win.string=G.instance.moneyFormat(H.instance.totalFreeWin),G.instance.playSound(k.prizeSmallwinTotal),this.showTipBgAni(H.instance.totalFreeWin),void(H.instance.freeStatus=F.NONE);this.Node_free.active||this.scheduleOnce((function(){if(R.instance.pauseMusic(),n.Node_action.active=!1,n.Node_menu.active=!1,n.Button_menu.node.active=!1,n.Button_run.node.active=!1,n.Node_free.active=!0,n.Node_free.getChildByName("Node_enter").active=!t,t)n.Node_free.getComponent(N).opacity=255,n.doEnterFree(t);else{n.Node_free.getComponent(N).opacity=0,G.instance.playSound(k.fsWonTitle);var e=n.Node_free.getChildByName("Node_enter");e.getComponent(N).opacity=255,e.getChildByName("Label_freeTimes").getComponent(p).string=""+H.instance.totalFreeTimes,H.instance.totalFreeWin=0,n.Node_helpTip.active=!0,n.Node_winTip.active=!1,n.Label_win.string=G.instance.moneyFormat(0),f(n.Node_free.getComponent(N)).to(.5,{opacity:255}).call((function(){n.scheduleOnce((function(){n.doEnterFree()}),1)})).start()}}),.5)},c.doEnterFree=function(e){if(void 0===e&&(e=!1),!e){var t=this.Node_free.getChildByName("Node_enter");f(t.getComponent(N)).to(.2,{opacity:0}).call((function(){t.active=!1})).start(),this.Mjhl_rate.changeStatus(!0)}G.instance.playBgMusic(k.freeBg),this.Node_bg.position=g(0,-140,0),this.Label_gold.node.position=g(-230,-140,0),this.Label_win.node.position=g(273,-156,0),this.Button_setBase.interactable=!1,this.Button_setBase.node.position=g(0,-123,0),this.Sprite_bg.active=!1,this.Sprite_freeBg.active=!0,this.Sprite_bg_up.spriteFrame=this.SpriteFrame_bg_up[1],this.Sprite_bg_down.spriteFrame=this.SpriteFrame_bg_down[1];var n=this.Node_free.getChildByName("Node_freeInfo");n.active=!0;var i=n.getChildByName("Label_freeTimes"),a=n.getChildByName("Sprite_title");H.instance.totalFreeTimes>0?(i.active=!0,i.getComponent(p).string=""+H.instance.totalFreeTimes,a.getComponent(j).key="remaining_fs"):(a.getComponent(j).key="last_fs",i.active=!1),this.Node_tipBg.setAnimation(0,"normal_idle",!0),R.instance.resumeMusic(),H.instance.freeStatus==F.NONE&&(H.instance.freeStatus=F.RUNNING,this.scheduleOnce((function(){P.instance.reqBet()}),.5))},c.doEndFree=function(){var e=this,t=this.Node_free.getChildByName("Node_end");t.active=!0,t.getComponent(N).opacity=0,f(t.getComponent(N)).to(.2,{opacity:255}).start(),this.Node_bg.position=g(0,40,0),this.Button_setBase.interactable=!H.instance.isAuto,this.Label_gold.node.position=g(-230,40,0),this.Button_setBase.interactable=!0,this.Button_setBase.node.position=g(0,59,0),this.Label_win.node.position=g(273,25,0);var n=t.getComponent(d.Skeleton);n.setAnimation(0,"intro",!1),n.addAnimation(0,"idle",!0);var i=t.getChildByName("Label_totalWin"),a=H.instance.totalFreeWin,o=H.instance.totalFreeWin/10,s=0;G.instance.playSound(k.bgmTotalwinMain),f(i).repeat(11,f(i).delay(.05).call((function(){(s+=o)>a&&(s=a),i.getComponent(p).string=G.instance.moneyFormat(s)}))).call((function(){G.instance.stopSound(k.bgmTotalwinMain),G.instance.playSound(k.bgmTotalwinEnd)})).start(),this.Node_action.active=!0,this.Node_menu.active=!1,this.Button_menu.node.active=!0,this.Button_run.node.active=!0,this.Sprite_bg.active=!0,this.Sprite_freeBg.active=!1,this.Sprite_bg_up.spriteFrame=this.SpriteFrame_bg_up[0],this.Sprite_bg_down.spriteFrame=this.SpriteFrame_bg_down[0],this.Node_tipBg.setAnimation(0,"free_normal_idle",!0),this.scheduleOnce((function(){e.Mjhl_rate.changeStatus(!1),e.showFree(!1)}),4.75)},c.updateGold=function(){var e=this,t=G.instance.moneyFormat(H.instance.curBalance);t!=this.Label_gold.string&&f(this.Label_gold.node).to(.1,{scale:g(1.2,1.2,1)}).call((function(){e.Label_gold.string=t})).to(.1,{scale:g(1,1,1)}).start()},c.initView=function(){H.instance.curTotalWin=0;for(var e=H.instance.gameInfo.Res,t=null,n=0,i=0;i<e.length;i++)(t=e[i]).RewardMoney>0&&(n++,H.instance.curTotalWin+=t.RewardMoney);(H.instance._curIndex_baseBet<=0?(H.instance._curIndex_baseBet=0,this.Node_action.getChildByName("Button_redus").getComponent(_).interactable=!1):this.Node_action.getChildByName("Button_add").getComponent(_).interactable=!0,this.Label_bet.string=G.instance.moneyFormat(H.instance.curBet),H.instance.curTotalWin>0)&&(this.Mjhl_rate.doLight(n>3?3:n),this.Node_helpTip.active=!1,this.Node_winTip.active=!0,this.Node_winTip.getComponent(x).doShow(H.instance.curTotalWin,!0),this.Label_win.string=G.instance.moneyFormat(H.instance.curTotalWin),T.instance.emit(A.updateWin,H.instance.curTotalWin),this.showTipBgAni(H.instance.curTotalWin));if(!localStorage.getItem("firstTag_mjhl")){var a=t.AllPosMsg[1],o=t.AllPosMsg[2],s=t.AllPosMsg[3];a[1].Sym=M.BAIBAN,a[2].Sym=M.SCATTER,a[3].Sym=M.ZHONG,a[1].IsGold=!0,a[2].IsGold=!0,a[3].IsGold=!0,o[1].Sym=M.WILD,o[2].Sym=M.FA,o[3].Sym=M.WILD,o[1].IsGold=!0,o[2].IsGold=!0,o[3].IsGold=!0,s[1].Sym=M.BAIBAN,s[2].Sym=M.SCATTER,s[3].Sym=M.ZHONG,s[1].IsGold=!0,s[2].IsGold=!0,s[3].IsGold=!0,localStorage.setItem("firstTag_mjhl","firstTag_mjhl")}this.Mjhl_symbol.initSymbolIcon(t.AllPosMsg)},c.updateView=function(e,t){switch(e){case W.HD_History:break;case W.HD_Bet:this.Button_run.interactable=!0,S.stopAllByTarget(this.Button_run.node),G.instance.setBtnBetGray(this.Button_run.node.getChildByName("Background"),!1),this.doStartRun(),this.updateGold();break;case C.instance.protocolHall.getWallet:case C.instance.protocolHall.pushWallet:this.updateGold();break;case C.instance.protocolHall.login:O.closeNetTips(),O.closeWait(),this.onReconnectSuccess()}},n}(v.BaseView),Se=n(we.prototype,"mask",[q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=n(we.prototype,"Node_colEffect",[U],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ce=n(we.prototype,"Node_freeCool",[Q],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Te=n(we.prototype,"Node_helpTip",[Z],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Le=n(we.prototype,"Node_winTip",[K],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ae=n(we.prototype,"Node_tipBg",[Y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Fe=n(we.prototype,"Mjhl_symbol",[J],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ke=n(we.prototype,"Node_action",[X],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Me=n(we.prototype,"Node_menu",[$],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),We=n(we.prototype,"Button_auto",[ee],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ee=n(we.prototype,"Button_setBase",[te],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ie=n(we.prototype,"Label_autoTimes",[ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),xe=n(we.prototype,"Button_run",[ie],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=n(we.prototype,"Button_menu",[ae],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Oe=n(we.prototype,"Skeleton_run",[oe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Re=n(we.prototype,"Node_tip",[se],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),je=n(we.prototype,"Label_gold",[re],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ge=n(we.prototype,"Label_bet",[ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Pe=n(we.prototype,"Label_win",[le],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),He=n(we.prototype,"Node_free",[ue],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),De=n(we.prototype,"Node_bigWin",[de],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ve=n(we.prototype,"Label_totalWin",[_e],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),qe=n(we.prototype,"Mjhl_rate",[pe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ue=n(we.prototype,"Sprite_bg",[he],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Qe=n(we.prototype,"Sprite_freeBg",[be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ze=n(we.prototype,"Sprite_bg_up",[me],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ke=n(we.prototype,"Sprite_bg_down",[fe],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Ye=n(we.prototype,"SpriteFrame_bg_up",[ge],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Je=n(we.prototype,"SpriteFrame_bg_down",[Be],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Xe=n(we.prototype,"Node_bg",[Ne],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ye=we))||ye)||ye));c._RF.pop()}}}));

System.register("chunks:///_virtual/ui_help.ts",["./rollupPluginModLoBabelHelpers.js","cc","./I18n.ts","./MjhlUtils.ts"],(function(t){var e,n,i,r,a,o,l,s,u,c;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,i=t.initializerDefineProperty,r=t.assertThisInitialized},function(t){a=t.cclegacy,o=t._decorator,l=t.Label,s=t.Component},function(t){u=t.default},function(t){c=t.MjhlUtils}],execute:function(){var p,f,h,y,b;a._RF.push({},"3d0f0JT4s1DMqEj7t/EHU3F","ui_help",void 0);var _=o.ccclass,d=o.property;t("ui_help",(p=_("ui_help"),f=d(l),p((b=e((y=function(t){function e(){for(var e,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return e=t.call.apply(t,[this].concat(a))||this,i(e,"waysLab",b,r(e)),e}return n(e,t),e.prototype.start=function(){var t=c.instance.numberFormat(2e3,0);this.waysLab.string=u.t("MahjongPayout.BetWaysTitle",{2e3:t})},e}(s)).prototype,"waysLab",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),h=y))||h));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/MjhlGame', 'chunks:///_virtual/MjhlGame'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});